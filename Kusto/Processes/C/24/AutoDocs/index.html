<html>
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>ELMA:Реестр сделки</title><link rel="StyleSheet" href="images/stylesHelp.css" type="text/css" /></head><body width="100%" style="font-family: Calibri;">
<div style="text-align: center; border-width: 0px; margin-left: 13px; margin-top: 8px;"><div style="width: 995px;"><div style="text-align: left"><img src="images/bg_menu.png" style="margin-left: 1px;" /> <span class="head">Реестр сделки (черновик, от 2024.07.25 17:08:10)</span></div></div></div><div style="text-align: center" align="center"><div style="width: 995px; display: table; margin-left: 30px;"><table class="one"><tr><td><a name="start"></a><img align ="center" src ="images/map.png" usemap="#mapproc" border = 0><br>
<map name="mapproc">
<area shape="rect" coords="184,217,208,231" alt = "->Событие 4" href = "#5fa30b193105491d8ac7cad60accfc92"><area shape="rect" coords="177,223,191,224" alt = "->Событие 4" href = "#5fa30b193105491d8ac7cad60accfc92"><area shape="rect" coords="160,216,184,230" alt = "->Событие 4" href = "#5fa30b193105491d8ac7cad60accfc92"><area shape="rect" coords="217,192,231,208" alt = "Abort" href = "#745525b4c3354a3e9ac828b8aec9ee8d"><area shape="rect" coords="160,184,224,198" alt = "Abort" href = "#745525b4c3354a3e9ac828b8aec9ee8d"><area shape="rect" coords="665,464,679,496" alt = "->Событие 6" href = "#4c4dbe4dc0ba4e37aea3263076dce9b3"><area shape="rect" coords="336,489,672,503" alt = "->Событие 6" href = "#4c4dbe4dc0ba4e37aea3263076dce9b3"><area shape="rect" coords="329,488,343,496" alt = "->Событие 6" href = "#4c4dbe4dc0ba4e37aea3263076dce9b3"><area shape="rect" coords="384,369,391,383" alt = "->Z01T20_A10" href = "#a111236462df44828d296647425ecbf4"><area shape="rect" coords="384,287,398,376" alt = "->Z01T20_A10" href = "#a111236462df44828d296647425ecbf4"><area shape="rect" coords="384,280,391,294" alt = "->Z01T20_A10" href = "#a111236462df44828d296647425ecbf4"><area shape="rect" coords="329,319,343,352" alt = "->Z01T20_A10" href = "#913d81096adb4929b77cd3e22bfac53e"><area shape="rect" coords="280,200,288,214" alt = "->Z10T20_B10" href = "#9f79f30e83bb4997a42869a2214b6a06"><area shape="rect" coords="273,207,287,287" alt = "->Z10T20_B10" href = "#9f79f30e83bb4997a42869a2214b6a06"><area shape="rect" coords="280,280,288,294" alt = "->Z10T20_B10" href = "#9f79f30e83bb4997a42869a2214b6a06"><area shape="rect" coords="329,160,343,183" alt = "->Z10T20_B10" href = "#5879c58838c649feb06466a56c2a79c3"><area shape="rect" coords="336,153,455,167" alt = "->Z10T20_B10" href = "#5879c58838c649feb06466a56c2a79c3"><area shape="rect" coords="329,243,343,255" alt = "->[Z10T20] Управление временем согласования" href = "#fc69ba6f943445a889730b4dcef219d5"><area shape="rect" coords="329,243,343,243" alt = "->[Z10T20] Управление временем согласования" href = "#fc69ba6f943445a889730b4dcef219d5"><area shape="rect" coords="329,231,343,243" alt = "->[Z10T20] Управление временем согласования" href = "#fc69ba6f943445a889730b4dcef219d5"><area shape="rect" coords="336,409,455,423" alt = "->Шлюз 2" href = "#bda2d45f0a5d4a22b1bbb13a2092bf9e"><area shape="rect" coords="329,400,343,416" alt = "->Шлюз 2" href = "#bda2d45f0a5d4a22b1bbb13a2092bf9e"><area shape="rect" coords="592,289,632,303" alt = "✖ (нет)" href = "#08ec00e953af404685caec0feb37a721"><area shape="rect" coords="625,216,639,296" alt = "✖ (нет)" href = "#08ec00e953af404685caec0feb37a721"><area shape="rect" coords="624,209,632,223" alt = "✖ (нет)" href = "#08ec00e953af404685caec0feb37a721"><area shape="rect" coords="569,260,583,280" alt = "✔ (да)" href = "#d8633dfd47664b1fb15e402696427359"><area shape="rect" coords="569,260,583,260" alt = "✔ (да)" href = "#d8633dfd47664b1fb15e402696427359"><area shape="rect" coords="569,240,583,260" alt = "✔ (да)" href = "#d8633dfd47664b1fb15e402696427359"><area shape="rect" coords="217,240,231,488" alt = "->Z10T10_A01" href = "#d34f3bc10ee543c49d332e61e1396f12"><area shape="rect" coords="569,312,583,335" alt = "->AfterAppr" href = "#816f6bc9319b4f029fd24e3c9c11e7a1"><area shape="rect" coords="569,164,583,192" alt = "->Согласование 10" href = "#b5a1c035a92444ac997939e0d8c435a6"><area shape="rect" coords="569,164,583,164" alt = "->Согласование 10" href = "#b5a1c035a92444ac997939e0d8c435a6"><area shape="rect" coords="569,136,583,164" alt = "->Согласование 10" href = "#b5a1c035a92444ac997939e0d8c435a6"><area shape="rect" coords="456,105,528,119" alt = "->Z20A10_B10" href = "#b8934af0430d4abcbb96bab83d868282"><area shape="rect" coords="449,112,463,112" alt = "->Z20A10_B10" href = "#b8934af0430d4abcbb96bab83d868282"><area shape="rect" coords="383,105,456,119" alt = "->Z20A10_B10" href = "#b8934af0430d4abcbb96bab83d868282"><area shape="rect" coords="777,147,791,168" alt = "->Ознакомл. 10" href = "#c6a73cdbab0d4d8ab50176e7a4f68f37"><area shape="rect" coords="777,147,791,147" alt = "->Ознакомл. 10" href = "#c6a73cdbab0d4d8ab50176e7a4f68f37"><area shape="rect" coords="777,127,791,147" alt = "->Ознакомл. 10" href = "#c6a73cdbab0d4d8ab50176e7a4f68f37"><area shape="rect" coords="384,457,576,471" alt = "->Новый лист ознакомления" href = "#ca6c459aa46c4c418efb6d4260316e54"><area shape="rect" coords="569,384,583,464" alt = "->Новый лист ознакомления" href = "#ca6c459aa46c4c418efb6d4260316e54"><area shape="rect" coords="777,216,791,264" alt = "OK" href = "#172ee09224bf4479a5eddc8304e48f67"><area shape="rect" coords="672,96,736,110" alt = "->Z30T10_B10" href = "#110f0a71fdf74f7fab9b85651703aa6d"><area shape="rect" coords="665,103,679,432" alt = "->Z30T10_B10" href = "#110f0a71fdf74f7fab9b85651703aa6d"><area shape="rect" coords="224,105,288,119" alt = "->Новый лист согласования" href = "#f52fc02263594a1085038c609924a15a"><area shape="rect" coords="217,111,231,112" alt = "->Новый лист согласования" href = "#f52fc02263594a1085038c609924a15a"><area shape="rect" coords="160,104,224,118" alt = "->Новый лист согласования" href = "#f52fc02263594a1085038c609924a15a"><area shape="rect" coords="777,312,791,344" alt = "->Proc_BeforeStop" href = "#658928c7fc7b465e9aaae1e7acf1acf5"><area shape="rect" coords="777,464,791,512" alt = "->Событие 3" href = "#e166cc04e7154d8aa4e3e83d6cc5f164"><area shape="rect" coords="264,505,784,519" alt = "->Событие 3" href = "#e166cc04e7154d8aa4e3e83d6cc5f164"><area shape="rect" coords="777,392,791,432" alt = "->Событие 3" href = "#1ca6965ac216415782379850483efa91"><area shape="rect" coords="105,135,119,155" alt = "ОК" href = "#7e3517052df14a14aa0cc2428fe21ae2"><area shape="rect" coords="105,155,119,155" alt = "ОК" href = "#7e3517052df14a14aa0cc2428fe21ae2"><area shape="rect" coords="105,155,119,176" alt = "ОК" href = "#7e3517052df14a14aa0cc2428fe21ae2"><area shape="rect" coords="105,240,119,260" alt = "->[Z10T10] Наполнение реестра" href = "#11e501932e3049c6b116b36bd13d7ba4"><area shape="rect" coords="105,260,119,260" alt = "->[Z10T10] Наполнение реестра" href = "#11e501932e3049c6b116b36bd13d7ba4"><area shape="rect" coords="105,260,119,280" alt = "->[Z10T10] Наполнение реестра" href = "#11e501932e3049c6b116b36bd13d7ba4"><area shape="rect" coords="105,328,119,352" alt = "->Z10T10_B10" href = "#194c15512657485a8f4bcb6091fdddcb"><area shape="rect" coords="105,352,119,352" alt = "->Z10T10_B10" href = "#194c15512657485a8f4bcb6091fdddcb"><area shape="rect" coords="105,352,119,376" alt = "->Z10T10_B10" href = "#194c15512657485a8f4bcb6091fdddcb"><area shape="rect" coords="56,297,64,311" alt = "Save" href = "#f15a2c579ba840efa57bf29317e4a0a1"><area shape="rect" coords="49,207,63,304" alt = "Save" href = "#f15a2c579ba840efa57bf29317e4a0a1"><area shape="rect" coords="56,200,64,214" alt = "Save" href = "#f15a2c579ba840efa57bf29317e4a0a1"><area shape="rect" coords="105,424,119,444" alt = "->Proc_AfterStart" href = "#8136218500834b2987b1b7025e115337"><area shape="rect" coords="105,444,119,444" alt = "->Proc_AfterStart" href = "#8136218500834b2987b1b7025e115337"><area shape="rect" coords="105,444,119,464" alt = "->Proc_AfterStart" href = "#8136218500834b2987b1b7025e115337"><area shape="rect" coords="208,208,240,240" alt = "Событие 4"  href = "#fb3a1ddb-67af-4838-9960-6c6560e02a5a"><area shape="rect" coords="656,432,688,464" alt = "Событие 6"  href = "#6aa0646a-c1a5-4374-9d42-7ca5e4513d93"><area shape="rect" coords="288,352,384,400" alt = "Z01T20_A10"  href = "#3b2a64aa-058c-4ce0-9393-7110e2af0ffb"><area shape="rect" coords="288,183,383,231" alt = "Z10T20_B10"  href = "#6e3916d2-b42f-4667-80d3-6f49da36f53c"><area shape="rect" coords="288,255,384,318" alt = "[Z10T20] Управление временем согласования"  href = "#c6a39a44-4eb3-4dab-9ee8-b2118440649a"><area shape="rect" coords="455,391,504,440" alt = "Шлюз 2"  href = "#d8a55b28-5fe1-4214-ab6e-551e97820355"><area shape="rect" coords="560,280,592,312" alt = "Событие 2"  href = "#58bd0a6d-e6d4-4de8-b690-54a2cd07ff9e"><area shape="rect" coords="455,135,504,184" alt = "Шлюз 1"  href = "#d900a1c3-6dbe-4122-9f55-a9d2c2d8ff73"><area shape="rect" coords="184,488,264,536" alt = "Z10T10_A01"  href = "#08eaf7bc-5175-461f-aad3-fa557435aba5"><area shape="rect" coords="528,335,624,383" alt = "AfterAppr"  href = "#d7d38c30-cd57-4761-b784-e8315b2a6edb"><area shape="rect" coords="528,192,624,239" alt = "Согласование 10"  href = "#1ac4d3ac-c5ac-42b8-9509-8fcbdf6f788b"><area shape="rect" coords="528,88,624,136" alt = "Z20A10_B10"  href = "#be29eb68-0deb-4cfa-8ce2-a0ef0f1aff41"><area shape="rect" coords="736,167,832,215" alt = "Ознакомл. 10"  href = "#16cc5bac-18ee-48ef-945f-6d46a445d5a9"><area shape="rect" coords="288,440,384,488" alt = "Новый лист ознакомления"  href = "#caf028e9-29a0-4a58-8e24-28beea3258f6"><area shape="rect" coords="736,264,832,312" alt = "Z30T10_A10"  href = "#86c8bb12-0993-42ab-8dc1-d6d7dd2cc5a4"><area shape="rect" coords="736,79,832,127" alt = "Z30T10_B10"  href = "#764699d2-4e0f-47d9-bf28-1bdda1dbd208"><area shape="rect" coords="288,88,383,135" alt = "Новый лист согласования"  href = "#d5a932cf-bc99-4360-a1fa-aa03e41f0069"><area shape="rect" coords="736,344,832,392" alt = "Proc_BeforeStop"  href = "#9043132e-ab35-40af-990b-e8059129e507"><area shape="rect" coords="768,432,800,464" alt = "Событие 3"  href = "#dafccc0a-b21e-461a-9d68-2620e928cf32"><area shape="rect" coords="64,87,160,135" alt = "Z10T10_A10"  href = "#2dfbe27c-78b4-46e0-a73e-06da6a0d2f9d"><area shape="rect" coords="64,175,160,239" alt = "[Z10T10] Наполнение реестра"  href = "#0442cf39-cf29-45b4-b827-c32797725e5c"><area shape="rect" coords="64,280,160,328" alt = "Z10T10_B10"  href = "#e6deb332-c7dd-482c-862b-886528ecd812"><area shape="rect" coords="64,376,159,424" alt = "Proc_AfterStart"  href = "#5d77a03f-7eb6-4c06-ba3d-8fef724a392b"><area shape="rect" coords="96,464,128,496" alt = "Событие 1"  href = "#46a7c442-1f30-4eb4-acc4-160d859e772b"></map><div style="color: #003366; font-size: 120%;"><div style="font-size: 130%; margin-bottom: 0px;">Содержание:</div><ul class="none_marker"><li><a href="#matrOtv">Матрица ответственности</a></li><li><a href="#Зоныответственности">Зоны ответственности</a></li><li><a href="#metr">Метрики и показатели</a></li><li style="margin-left: 40px;"><a href="#instanceMetrics">Показатели экземпляра процесса</a></li><li><a href="#context">Контекст</a></li><li><a href="#События">Элементы</a></li><li style="margin-left: 40px;"><a href = "#События">События</a><li style="margin-left: 80px;"><a href = "#46a7c442-1f30-4eb4-acc4-160d859e772b">Событие 1</a></li><li style="margin-left: 80px;"><a href = "#dafccc0a-b21e-461a-9d68-2620e928cf32">Событие 3</a></li><li style="margin-left: 80px;"><a href = "#58bd0a6d-e6d4-4de8-b690-54a2cd07ff9e">Событие 2</a></li><li style="margin-left: 80px;"><a href = "#6aa0646a-c1a5-4374-9d42-7ca5e4513d93">Событие 6</a></li><li style="margin-left: 80px;"><a href = "#fb3a1ddb-67af-4838-9960-6c6560e02a5a">Событие 4</a></li></li><li style="margin-left: 40px;"><a href = "#Задачи">Задачи</a><li style="margin-left: 80px;"><a href = "#5d77a03f-7eb6-4c06-ba3d-8fef724a392b">Proc_AfterStart</a></li><li style="margin-left: 80px;"><a href = "#e6deb332-c7dd-482c-862b-886528ecd812">Z10T10_B10</a></li><li style="margin-left: 80px;"><a href = "#0442cf39-cf29-45b4-b827-c32797725e5c">[Z10T10] Наполнение реестра</a></li><li style="margin-left: 80px;"><a href = "#2dfbe27c-78b4-46e0-a73e-06da6a0d2f9d">Z10T10_A10</a></li><li style="margin-left: 80px;"><a href = "#9043132e-ab35-40af-990b-e8059129e507">Proc_BeforeStop</a></li><li style="margin-left: 80px;"><a href = "#764699d2-4e0f-47d9-bf28-1bdda1dbd208">Z30T10_B10</a></li><li style="margin-left: 80px;"><a href = "#86c8bb12-0993-42ab-8dc1-d6d7dd2cc5a4">Z30T10_A10</a></li><li style="margin-left: 80px;"><a href = "#be29eb68-0deb-4cfa-8ce2-a0ef0f1aff41">Z20A10_B10</a></li><li style="margin-left: 80px;"><a href = "#d7d38c30-cd57-4761-b784-e8315b2a6edb">AfterAppr</a></li><li style="margin-left: 80px;"><a href = "#08eaf7bc-5175-461f-aad3-fa557435aba5">Z10T10_A01</a></li><li style="margin-left: 80px;"><a href = "#c6a39a44-4eb3-4dab-9ee8-b2118440649a">[Z10T20] Управление временем согласования</a></li><li style="margin-left: 80px;"><a href = "#6e3916d2-b42f-4667-80d3-6f49da36f53c">Z10T20_B10</a></li><li style="margin-left: 80px;"><a href = "#3b2a64aa-058c-4ce0-9393-7110e2af0ffb">Z01T20_A10</a></li></li><li style="margin-left: 40px;"><a href = "#Документооборот">Документооборот</a><li style="margin-left: 80px;"><a href = "#d5a932cf-bc99-4360-a1fa-aa03e41f0069">Новый лист согласования</a></li><li style="margin-left: 80px;"><a href = "#caf028e9-29a0-4a58-8e24-28beea3258f6">Новый лист ознакомления</a></li><li style="margin-left: 80px;"><a href = "#16cc5bac-18ee-48ef-945f-6d46a445d5a9">Ознакомл. 10</a></li><li style="margin-left: 80px;"><a href = "#1ac4d3ac-c5ac-42b8-9509-8fcbdf6f788b">Согласование 10</a></li></li><li style="margin-left: 40px;"><a href = "#Шлюзы">Шлюзы</a><li style="margin-left: 80px;"><a href = "#d900a1c3-6dbe-4122-9f55-a9d2c2d8ff73">Шлюз 1</a></li><li style="margin-left: 80px;"><a href = "#d8a55b28-5fe1-4214-ab6e-551e97820355">Шлюз 2</a></li></li><li><a href="#connector">Переходы</a></li><li><a href="#script">Сценарии</a></li></ul></div><hr style="width:100%;"><h2>Метрики и показатели<a name=metr></a></h2><table class="inner">
<h2>Показатели экземпляра процесса<a name=instanceMetrics></a></h2><tr><td class="title_tab"><b>Название</b></td><td class="title_tab"><b>Тип показателя</b></td><td class="title_tab"><b>Правило вычисления</b></td><td class="title_tab"><b>Описание</b></td></tr>
<tr><td>Экземпляр процесса</td><td>Технический(Целое число)</td><td></td><td></td></tr>
</table>
<h2>Матрица ответственности:<a name=matrOtv></a></h2>
<table class="inner">
<tr><td class="title_tab"><b>Исполнитель</b></td><td class="title_tab"><b>Владелец</b></td><td class="title_tab"><b>Участник</b></td><td class="title_tab"><b>Информируется</b></td><td class="title_tab"><b>Куратор</b></td></tr>
<tr><td style="">Все пользователи (10. Инициатор реестра)</td><td style=""></td><td style="text-align:center;">ДА</td><td style=""></td><td style="text-align:center;"></td></tr>
</table>
<h2>Контекст<a name=context></a></h2><table class="inner">
<tr><td class="title_tab"><b>Отображаемое имя</b></td><td class="title_tab"><b>Имя свойства</b></td><td class="title_tab"><b>Тип данных</b></td><td class="title_tab"><b>Участвует в быстром поиске</b></td><td class="title_tab"><b>Участвует в поиске (фильтре)</b></td><td class="title_tab"><b>Входное</b></td><td class="title_tab"><b>Выходное</b></td><td class="title_tab"><b>Описание</b></td></tr>
<tr><td style=""><a name='0c78f84cd8084e118fa3bf49bf6cd7fb'></a>Уникальный идентификатор</td><td style="">Uid</td><td style="">Уникальный идентификатор (GUID)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='80940b7aaa914c18b2cac7674b1aa568'></a>№ реестра</td><td style="">RegNumber</td><td style="">Целое число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='61570b1e4d12433fa7252813e1993dc1'></a>Дата реестра</td><td style="">RegDate</td><td style="">Дата / время</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='1e26693dedf24bf8ae4d44987bea2fb2'></a>Инициатор реестра</td><td style="">ProcUsrZ10_RegInitiator</td><td style="">Пользователь (Объект)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='ba9deda961f748608e33a5c2d8d8e5cf'></a>Базис поставки</td><td style="">BasisOfDelivery</td><td style="">Базис поставки (Перечисление)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='e728e83bc4264e998e6221ead14fedd2'></a>Форма оплаты</td><td style="">PaymentForm</td><td style="">Строка</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='7aabd34557d746afafcca78802e8f7aa'></a>Толеранс</td><td style="">Tolerans</td><td style="">Строка</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='83928b3d5eb6400d9765b8dfd3181069'></a>Себестоимость EXW на элеваторе на 1т [CUR]</td><td style="">CostOfEXWatTheElevator__CUR</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='b421876f9bd444679404850fa3190a9e'></a>Валюта сделки (CUR)</td><td style="">DealCUR</td><td style="">Тип валюты (Перечисление)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='9b0f8d195c5c44779233b879166047d1'></a>Расчетная стоимость логистики на 1т [CUR]</td><td style="">EstimatedCostOfLogistics__CUR</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='44cab64b8ff34ff4bb823f41997f49d6'></a>🔷 Расчетная чистая прибыль на 1т [CUR]</td><td style="">EstimatedNetProfitPer1t__CUR</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='e71554a33c7f4a03acb245fee6566090'></a>🔴 Расчетная чистая прибыль по сделке [USD]</td><td style="">EstimatedNetProfit__USD</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='916ec5bf375b4380a7d79a758547b49d'></a>Качество (файл)</td><td style="">Quality</td><td style="">Вложение (Объект)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='d6f303f222484b079ec82cc74e6cd9a6'></a>Количество [тоннa]</td><td style="">Amount__tonne</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='a1851630d8404c0e93924c37816d416b'></a>Культура</td><td style="">Culture</td><td style="">С/Х культура (Объект)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='29246eeb53f64f5d9da2bce372f9795c'></a>Курс CUR к UAH</td><td style="">CURtoUAH</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="">На момент сделки</td></tr>
<tr><td style=""><a name='a424596f34084daab1852a744d23d832'></a>Курс USD к UAH</td><td style="">USDtoUAH</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="">На момент сделки</td></tr>
<tr><td style=""><a name='89b3eabf348446099d4bdb568bc64132'></a>Цена реализации за 1т [CUR]</td><td style="">SellingPricePer1ton__CUR</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='608657a776b24145a94e42f9b423bab9'></a>Пункт / склад отгрузки</td><td style="">PointOfShipping</td><td style="">Строка</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='a69304bf2b094da89d1ca5fca5ea7672'></a>Пункт назначения</td><td style="">PointOfDestination</td><td style="">Строка</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='e313827121d340ce8c10aed2823c072e'></a>Примечания</td><td style="">Rem</td><td style="">Строка</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='d01b31b3203e4ec1b04cb269c0d1a54c'></a>Вложения (к примечаниям)</td><td style="">RemAttachments</td><td style="">Список<Вложение (Объект)> (N-N)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='5c08f1fc30d643d8907420093e00c3a2'></a>Участники согласования 10</td><td style="">ProcUsrZ20_ApprMembers10</td><td style="">Список<Пользователь (Объект)> (N-N)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='897d5287d2ce43389f73e672d30ca141'></a>Участники согласования 20</td><td style="">ProcUsrZ20_ApprMembers20</td><td style="">Список<Пользователь (Объект)> (N-N)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='24105253cb5e4dbb93b0059dca4cac4d'></a>Участники согласования 30</td><td style="">ProcUsrZ20_ApprMembers30</td><td style="">Список<Пользователь (Объект)> (N-N)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='15683bd75fa34cd7afd0ce77571a50dd'></a>Документ реестра</td><td style="">RegDocument</td><td style="">📜 Реєстр угоди (Документ)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='c94dde4b6b5a49dcb9272c46c770c2e0'></a>ApprTimer</td><td style="">ApprTimer</td><td style="">Временной интервал</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='10bf468625024b5fa84d595cccf845ed'></a>ProcConfing</td><td style="">ProcConfing</td><td style="">🛠️ Реестр сделки (Объект)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='20f8eaad2fea4374a272b47f2c1e3378'></a>Участники ознакомления 10</td><td style="">ProcUsrZ30_AcqMembers10</td><td style="">Список<Пользователь (Объект)> (N-N)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='1476ddd5430d4483af20a58830ad44e9'></a>Название процесса</td><td style="">ProcName</td><td style="">Строка</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='8d735d19a6854563be9f2c83f84faf5f'></a>Контрагент</td><td style="">RegContractor</td><td style="">Контрагент (Объект)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='0352554c0f0e45809381989e84d440dd'></a>ApprEscalationTime</td><td style="">ApprEscalationTime</td><td style="">Дата / время</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='61754b13f3084d0e8c58e2f7100b8bfb'></a>ApprTimeTimit</td><td style="">ApprTimeTimit</td><td style="">Дата / время</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='c0073b74b5024ebdab6c2956ed594f13'></a>Период поставки от ...</td><td style="">DeliveryDateFrom</td><td style="">Дата / время</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='3d3f5305a9734f3f8dd6d91c8d5d4f16'></a>Период поставки до ...</td><td style="">DeliveryDateTill</td><td style="">Дата / время</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='ca83d2f199da4ed79c5c18bb02af6a85'></a>Лист согласования реестра</td><td style="">RegDocApprList</td><td style="">Вложение (Объект)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='8c0f46623a444aa5ab3cd943a7eb3fcf'></a>Способ доставки</td><td style="">DeliveryMethod</td><td style="">Способ доставки (Объект)</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='b3d6a00e6a6e4e13ad2260e80ec0e217'></a>Себестоимость EXW на элеваторе на 1т [UAH]</td><td style="">CostOfEXWatTheElevator__UAH</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='d9c0f0a99dd747108c6905832ccd9ad9'></a> Расчетная стоимость логистики на 1т [UAH]</td><td style="">EstimatedCostOfLogistics__UAH</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='39b2314f2bd4482b8e18adc7b3eec9c7'></a>Цена реализации за 1т [UAH]</td><td style="">SellingPricePer1ton__UAH</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='d0f4cd857224464998be95aabbfb1414'></a>🔷 Расчетная чистая прибыль на 1т [UAH]</td><td style="">EstimatedNetProfitPer1t__UAH</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='052ed1dfae94431f8edc3792e85dc58c'></a>🔴 Расчетная чистая прибыль по сделке [UAH]</td><td style="">EstimatedNetProfit__UAH</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='e16251bdd6fb4341a0577c32928065ea'></a>Налоги на 1т [UAH]</td><td style="">TaxPer1t__UAH</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='63db4c5e3c534d019e2bd9641a432f73'></a>Налоги на 1т [CUR]</td><td style="">TaxPer1t__CUR</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='8d2c34c4bb544f4282d606641c50aa9f'></a>Сопутствующие расходы на 1т [UAH]</td><td style="">AssociatedExpensesPer1t__UAH</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='4387dd9caa6c4cf1988e522964295dae'></a>Сопутствующие расходы на 1т [CUR]</td><td style="">AssociatedExpensesPer1t__CUR</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='b97f94b0e1b24dfd92c9c75123f6d639'></a>Услуги элеватора (сбыт) на 1т [UAH]</td><td style="">ElevatorServicesPer1t__UAH</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='6cbfe187c1a74e5c904f6e85222e58fd'></a>Услуги элеватора (сбыт) на 1т [CUR]</td><td style="">ElevatorServicesPer1t__CUR</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='28f79d5f174d4e3aa2f0c56886256a21'></a>Перевалка на 1т [UAH]</td><td style="">TransshipmentPer1t__UAH</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='552354e9615f4dacb713acc3e34923d2'></a>Перевалка на 1т [CUR]</td><td style="">TransshipmentPer1t__CUR</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='77218f9ee4644d58ae23d41edbd96b6c'></a>🔷 Маржа на 1т [UAH]</td><td style="">MarginPer1t__UAH</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='baea95e5814649ae9bd0b28d51728143'></a>🔷 Маржа на 1т [CUR]</td><td style="">MarginPer1t__CUR</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='e51174a54cb040c7ab49b95eac138da5'></a>🔷 Постоянные расходы на 1т [UAH]</td><td style="">ConstantCostsPer1t__UAH</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='e101cf6bab8e42fa9f1021d9e797979f'></a>🔷 Постоянные расходы на 1т [CUR]</td><td style="">ConstantCostsPer1t__CUR</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='f7ad4bf00fae4aa7b83e76e958aa8c8f'></a>НДС [%]</td><td style="">VAT__percents</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='8cfe4150b2c54f39b30f791c1d4521c1'></a>* CUR_Selected</td><td style="">CUR_Selected</td><td style="">Строка</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='041cdafbecfc4195a5a52cf64ae99406'></a>* CUR_UAH</td><td style="">CUR_UAH</td><td style="">Строка</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='02d23c991446442db7aff2cc2db6a7be'></a>🔴 Расчетная чистая прибыль по сделке [CUR]</td><td style="">EstimatedNetProfit__CUR</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='cc85b6548c9c4db284d22d34d15a915d'></a>Total CUR</td><td style="">LabelOfTotalCUR</td><td style="">Строка</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='d5057bb5068546c78b6466ec2c2418b8'></a>🔷 Полная себестоимость на 1т. [CUR]</td><td style="">FullCostsPer1t__CUR</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='137adfdeef6e4ad189b2d9e3434bdcf7'></a>🔷 Полная себестоимость на 1т. [UAH]</td><td style="">FullCostsPer1t__UAH</td><td style="">Дробное число</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style=""><a name='66df28e2c89346828d107100ea9c2c61'></a>DocAsHtml</td><td style="">DocAsHtml</td><td style="">HTML разметка</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""></td></tr>
<tr><td style="background:#DCDCDC;"><a name='5d284e83697a4ef49e396078a32d3887'></a>Участники процесса</td><td style="background:#DCDCDC;">BL10_ProcTasks</td><td style="background:#DCDCDC;">Блок (KP_DealReg_BL10_ProcTask)</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="background:#DCDCDC;"></td></tr>
<tr><td style="padding-left:20;background:#DCDCDC;"><a name='9307ed0cd0ed477f96ae3f522bab16a8'></a>Код задачи</td><td style="padding-left:20;background:#DCDCDC;">BI_ProcTaskCode</td><td style="background:#DCDCDC;">ProcTask_DealRegV01 (Перечисление)</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="background:#DCDCDC;"></td></tr>
<tr><td style="padding-left:20;background:#DCDCDC;"><a name='3d15b9bfe60c4ca2bbeff0e07044e4b7'></a>Задача завершена</td><td style="padding-left:20;background:#DCDCDC;">BI_TaskCompleted</td><td style="background:#DCDCDC;">Да / нет</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="background:#DCDCDC;"></td></tr>
<tr><td style="padding-left:20;background:#DCDCDC;"><a name='af71f86eca5542e08d45c1be89436960'></a>Название задачи</td><td style="padding-left:20;background:#DCDCDC;">BI_TaskName</td><td style="background:#DCDCDC;">Строка</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="background:#DCDCDC;"></td></tr>
<tr><td style="padding-left:20;background:#DCDCDC;"><a name='03acd2404bfe408faa42cc3b324ff9ca'></a>Участники задачи</td><td style="padding-left:20;background:#DCDCDC;">BL10_TaskMembers</td><td style="background:#DCDCDC;">Блок (KP_DealReg_BL10BL10_TaskMember)</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="background:#DCDCDC;"></td></tr>
<tr><td style="padding-left:40;background:#DCDCDC;"><a name='5464b0386b8644afbc5c8f7f55c9f748'></a>Учасник задачи</td><td style="padding-left:40;background:#DCDCDC;">BI_ApprMember</td><td style="background:#DCDCDC;">Пользователь (Объект)</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="background:#DCDCDC;"></td></tr>
<tr><td style="padding-left:40;background:#DCDCDC;"><a name='efe72baf73ca4384bf4a20a4e531350b'></a>Запретить эскалацию</td><td style="padding-left:40;background:#DCDCDC;">BI_ProhibitEscalation</td><td style="background:#DCDCDC;">Да / нет</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="background:#DCDCDC;"></td></tr>
<tr><td style="padding-left:40;background:#DCDCDC;"><a name='6ed62ca02556432495544706bc3b9f2c'></a>Результат согласования</td><td style="padding-left:40;background:#DCDCDC;">BI_ApprResult</td><td style="background:#DCDCDC;">Статус задачи на согласование (Перечисление)</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="text-align:center;background:#DCDCDC;">&nbsp</td><td style="background:#DCDCDC;"></td></tr>
</td></tr></td></tr></table>
<table class="inner">
<tr><td class="title_tab"><b>Зона ответственности</b></td><td class="title_tab"><b>Тип зоны</b></td><td class="title_tab"><b>Элемент оргструктуры/группа</b></td><td class="title_tab"><b>Исполнитель</b></td></tr>
<h2>Зоны ответственности<a name="Зоныответственности"></a></h2><tr><td><a name='9126b0f1c997434da5efe36d24a2aa6c'></a>10. Инициатор реестра</td><td>Динамическая (выбор из списка)</td><td></td><td><a href = "#1e26693dedf24bf8ae4d44987bea2fb2">Инициатор реестра</a></td></tr>
<tr><td><a name='dbe76e4e51554ab9ab418f0568589157'></a>30. Онакомление с рез. согласования</td><td>Бизнес-роль (Ознакомление)</td><td></td><td></td></tr>
<tr><td><a name='f376fcfc568e492c9fcd8e284c9c1734'></a>20 • Согласование реестра</td><td>Бизнес-роль (Согласование)</td><td></td><td></td></tr>
</table>
<h2>События<a name="События"></a></h2><h3>Событие 1<a name="46a7c442-1f30-4eb4-acc4-160d859e772b"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/46a7c442-1f30-4eb4-acc4-160d859e772b.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип События: </b>Стартовое<br><b>Зона Ответственности: </b><a href = "#9126b0f1c997434da5efe36d24a2aa6c">10. Инициатор реестра</a><br><tr><td><br><b>Исходящие переходы: </b><a href="#8136218500834b2987b1b7025e115337">->Proc_AfterStart</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Событие 3<a name="dafccc0a-b21e-461a-9d68-2620e928cf32"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/dafccc0a-b21e-461a-9d68-2620e928cf32.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип События: </b>Конечное<br><b>Зона Ответственности: </b><a href = "#dbe76e4e51554ab9ab418f0568589157">30. Онакомление с рез. согласования</a><br><tr><td><b>Входящие переходы&nbsp:</b><a href="#1ca6965ac216415782379850483efa91">->Proc_BeforeStop</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#e166cc04e7154d8aa4e3e83d6cc5f164">->Z10T10_A01</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Событие 2<a name="58bd0a6d-e6d4-4de8-b690-54a2cd07ff9e"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/58bd0a6d-e6d4-4de8-b690-54a2cd07ff9e.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип События: </b>Промежуточное<br><b>Зона Ответственности: </b><a href = "#f376fcfc568e492c9fcd8e284c9c1734">20 • Согласование реестра</a><br><tr><td><b>Входящие переходы&nbsp:</b><a href="#d8633dfd47664b1fb15e402696427359">->✔ (да)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#08ec00e953af404685caec0feb37a721">->✖ (нет)</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#816f6bc9319b4f029fd24e3c9c11e7a1">->AfterAppr</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Событие 6<a name="6aa0646a-c1a5-4374-9d42-7ca5e4513d93"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/6aa0646a-c1a5-4374-9d42-7ca5e4513d93.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип События: </b>Промежуточное<br><b>Зона Ответственности: </b><a href = "#f376fcfc568e492c9fcd8e284c9c1734">20 • Согласование реестра</a><br><tr><td><b>Входящие переходы&nbsp:</b><a href="#4c4dbe4dc0ba4e37aea3263076dce9b3">->Новый лист ознакомления</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#110f0a71fdf74f7fab9b85651703aa6d">->Z30T10_B10</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Событие 4<a name="fb3a1ddb-67af-4838-9960-6c6560e02a5a"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/fb3a1ddb-67af-4838-9960-6c6560e02a5a.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип События: </b>Промежуточное<br><b>Зона Ответственности: </b><a href = "#9126b0f1c997434da5efe36d24a2aa6c">10. Инициатор реестра</a><br><tr><td><b>Входящие переходы&nbsp:</b><a href="#745525b4c3354a3e9ac828b8aec9ee8d">->Abort</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#5fa30b193105491d8ac7cad60accfc92">->[Z10T10] Наполнение реестра</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#d34f3bc10ee543c49d332e61e1396f12">->Z10T10_A01</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h2>Задачи<a name="Задачи"></a></h2><h3>Proc_AfterStart<a name="5d77a03f-7eb6-4c06-ba3d-8fef724a392b"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/5d77a03f-7eb6-4c06-ba3d-8fef724a392b.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Операции: </b>Сценарий<br><b>Зона Ответственности: </b><a href = "#9126b0f1c997434da5efe36d24a2aa6c">10. Инициатор реестра</a><br><b>Название метода</b>: <a href = "#Proc_AfterStart(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Proc_AfterStart(Context context)">Proc_AfterStart(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Proc_AfterStart(Context context)</a><tr><td><b>Входящие переходы&nbsp:</b><a href="#8136218500834b2987b1b7025e115337">->Старт процесса</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#194c15512657485a8f4bcb6091fdddcb">->Z10T10_B10</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Z10T10_B10<a name="e6deb332-c7dd-482c-862b-886528ecd812"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/e6deb332-c7dd-482c-862b-886528ecd812.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Операции: </b>Сценарий<br><b>Зона Ответственности: </b><a href = "#9126b0f1c997434da5efe36d24a2aa6c">10. Инициатор реестра</a><br><b>Название метода</b>: <a href = "#Z10T10_B10(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Z10T10_B10(Context context)">Z10T10_B10(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Z10T10_B10(Context context)</a><tr><td><b>Входящие переходы&nbsp:</b><a href="#f15a2c579ba840efa57bf29317e4a0a1">->Save</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#194c15512657485a8f4bcb6091fdddcb">->Proc_AfterStart</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#11e501932e3049c6b116b36bd13d7ba4">->[Z10T10] Наполнение реестра</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>[Z10T10] Наполнение реестра<a name="0442cf39-cf29-45b4-b827-c32797725e5c"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/0442cf39-cf29-45b4-b827-c32797725e5c.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Операции: </b>Пользовательская Задача<br><b>Зона Ответственности: </b><a href = "#9126b0f1c997434da5efe36d24a2aa6c">10. Инициатор реестра</a><br></br><b>Настройки отображения контекстных перменных:</b></br><b>Сценарий при загрузке формы</b>: <a href = "#Z10T10_OnFormLoad">Z10T10_OnFormLoad(Context context, FormViewBuilder<Context> form)</a><br><table  class="inner">
<tr><td class="title_tab"><b>Название на форме</b></td><td class="title_tab"><b>Переменная</b></td><td class="title_tab"><b>Обязательная для заполнения</b></td><td class="title_tab"><b>Только для чтения</b></td><td class="title_tab"><b>Сценарий при изменении значения</b></td><td class="title_tab"><b>Сценарий при загрузке формы значения</b></td></tr>
<tr><td style=""><a href = "#80940b7aaa914c18b2cac7674b1aa568">№ реестра</a></td><td style="">RegNumber</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#61570b1e4d12433fa7252813e1993dc1">Дата реестра</a></td><td style="">RegDate</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#15683bd75fa34cd7afd0ce77571a50dd">Документ реестра</a></td><td style="">RegDocument</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#1e26693dedf24bf8ae4d44987bea2fb2">Инициатор реестра</a></td><td style="">ProcUsrZ10_RegInitiator</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#8d735d19a6854563be9f2c83f84faf5f">Контрагент</a></td><td style="">RegContractor</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#e728e83bc4264e998e6221ead14fedd2">Форма оплаты</a></td><td style="">PaymentForm</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#7aabd34557d746afafcca78802e8f7aa">Толеранс</a></td><td style="">Tolerans</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#916ec5bf375b4380a7d79a758547b49d">Качество (файл)</a></td><td style="">Quality</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#608657a776b24145a94e42f9b423bab9">Пункт / склад отгрузки</a></td><td style="">PointOfShipping</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#a69304bf2b094da89d1ca5fca5ea7672">Пункт назначения</a></td><td style="">PointOfDestination</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#8c0f46623a444aa5ab3cd943a7eb3fcf">Способ доставки</a></td><td style="">DeliveryMethod</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#c0073b74b5024ebdab6c2956ed594f13">Период поставки от ...</a></td><td style="">DeliveryDateFrom</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#3d3f5305a9734f3f8dd6d91c8d5d4f16">Период поставки до ...</a></td><td style="">DeliveryDateTill</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#ba9deda961f748608e33a5c2d8d8e5cf">Базис поставки</a></td><td style="">BasisOfDelivery</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#e313827121d340ce8c10aed2823c072e">Примечания</a></td><td style="">Rem</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#d01b31b3203e4ec1b04cb269c0d1a54c">Вложения (к примечаниям)</a></td><td style="">RemAttachments</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#a1851630d8404c0e93924c37816d416b">Культура</a></td><td style="">Culture</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#d6f303f222484b079ec82cc74e6cd9a6">Количество [тоннa]</a></td><td style="">Amount__tonne</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____Amount__tonne">Z10T10_OnPrCh____Amount__tonne(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#b421876f9bd444679404850fa3190a9e">Валюта сделки (CUR)</a></td><td style="">DealCUR</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____DealCurrency">Z10T10_OnPrCh____DealCurrency(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#29246eeb53f64f5d9da2bce372f9795c">Курс CUR к UAH</a></td><td style="">CURtoUAH</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____CURtoUAH">Z10T10_OnPrCh____CURtoUAH(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#a424596f34084daab1852a744d23d832">Курс USD к UAH</a></td><td style="">USDtoUAH</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____USDtoUAH">Z10T10_OnPrCh____USDtoUAH(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#f7ad4bf00fae4aa7b83e76e958aa8c8f">НДС [%]</a></td><td style="">VAT__percents</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____VAT__percents">Z10T10_OnPrCh____VAT__percents(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#89b3eabf348446099d4bdb568bc64132">Цена реализации за 1т [CUR]</a></td><td style="">SellingPricePer1ton__CUR</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____SellingPricePer1ton__CUR">Z10T10_OnPrCh____SellingPricePer1ton__CUR(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#8cfe4150b2c54f39b30f791c1d4521c1">* CUR_Selected</a></td><td style="">CUR_Selected</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#39b2314f2bd4482b8e18adc7b3eec9c7">Цена реализации за 1т [UAH]</a></td><td style="">SellingPricePer1ton__UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____SellingPricePer1ton__UAH">Z10T10_OnPrCh____SellingPricePer1ton__UAH(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#041cdafbecfc4195a5a52cf64ae99406">* CUR_UAH</a></td><td style="">CUR_UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#83928b3d5eb6400d9765b8dfd3181069">Себестоимость EXW на элеваторе на 1т [CUR]</a></td><td style="">CostOfEXWatTheElevator__CUR</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____CostOfEXWatTheElevator__CUR">Z10T10_OnPrCh____CostOfEXWatTheElevator__CUR(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#8cfe4150b2c54f39b30f791c1d4521c1">* CUR_Selected</a></td><td style="">CUR_Selected</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#b3d6a00e6a6e4e13ad2260e80ec0e217">Себестоимость EXW на элеваторе на 1т [UAH]</a></td><td style="">CostOfEXWatTheElevator__UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____CostOfEXWatTheElevator__UAH">Z10T10_OnPrCh____CostOfEXWatTheElevator__UAH(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#041cdafbecfc4195a5a52cf64ae99406">* CUR_UAH</a></td><td style="">CUR_UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#9b0f8d195c5c44779233b879166047d1">Расчетная стоимость логистики на 1т [CUR]</a></td><td style="">EstimatedCostOfLogistics__CUR</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____EstimatedCostOfLogistics__CUR">Z10T10_OnPrCh____EstimatedCostOfLogistics__CUR(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#8cfe4150b2c54f39b30f791c1d4521c1">* CUR_Selected</a></td><td style="">CUR_Selected</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#d9c0f0a99dd747108c6905832ccd9ad9"> Расчетная стоимость логистики на 1т [UAH]</a></td><td style="">EstimatedCostOfLogistics__UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____EstimatedCostOfLogistics__UAH">Z10T10_OnPrCh____EstimatedCostOfLogistics__UAH(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#041cdafbecfc4195a5a52cf64ae99406">* CUR_UAH</a></td><td style="">CUR_UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#63db4c5e3c534d019e2bd9641a432f73">Налоги на 1т [CUR]</a></td><td style="">TaxPer1t__CUR</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____TaxPer1t__CUR">Z10T10_OnPrCh____TaxPer1t__CUR(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#8cfe4150b2c54f39b30f791c1d4521c1">* CUR_Selected</a></td><td style="">CUR_Selected</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#e16251bdd6fb4341a0577c32928065ea">Налоги на 1т [UAH]</a></td><td style="">TaxPer1t__UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____TaxPer1t__UAH">Z10T10_OnPrCh____TaxPer1t__UAH(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#041cdafbecfc4195a5a52cf64ae99406">* CUR_UAH</a></td><td style="">CUR_UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#552354e9615f4dacb713acc3e34923d2">Перевалка на 1т [CUR]</a></td><td style="">TransshipmentPer1t__CUR</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____TransshipmentPer1t__CUR">Z10T10_OnPrCh____TransshipmentPer1t__CUR(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#8cfe4150b2c54f39b30f791c1d4521c1">* CUR_Selected</a></td><td style="">CUR_Selected</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#28f79d5f174d4e3aa2f0c56886256a21">Перевалка на 1т [UAH]</a></td><td style="">TransshipmentPer1t__UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____TransshipmentPer1t__UAH">Z10T10_OnPrCh____TransshipmentPer1t__UAH(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#041cdafbecfc4195a5a52cf64ae99406">* CUR_UAH</a></td><td style="">CUR_UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#6cbfe187c1a74e5c904f6e85222e58fd">Услуги элеватора (сбыт) на 1т [CUR]</a></td><td style="">ElevatorServicesPer1t__CUR</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____ElevatorServicesPer1t__CUR">Z10T10_OnPrCh____ElevatorServicesPer1t__CUR(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#8cfe4150b2c54f39b30f791c1d4521c1">* CUR_Selected</a></td><td style="">CUR_Selected</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#b97f94b0e1b24dfd92c9c75123f6d639">Услуги элеватора (сбыт) на 1т [UAH]</a></td><td style="">ElevatorServicesPer1t__UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____ElevatorServicesPer1t__UAH">Z10T10_OnPrCh____ElevatorServicesPer1t__UAH(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#041cdafbecfc4195a5a52cf64ae99406">* CUR_UAH</a></td><td style="">CUR_UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#4387dd9caa6c4cf1988e522964295dae">Сопутствующие расходы на 1т [CUR]</a></td><td style="">AssociatedExpensesPer1t__CUR</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____AssociatedExpensesPer1t__CUR">Z10T10_OnPrCh____AssociatedExpensesPer1t__CUR(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#8cfe4150b2c54f39b30f791c1d4521c1">* CUR_Selected</a></td><td style="">CUR_Selected</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#8d2c34c4bb544f4282d606641c50aa9f">Сопутствующие расходы на 1т [UAH]</a></td><td style="">AssociatedExpensesPer1t__UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____AssociatedExpensesPer1t__UAH">Z10T10_OnPrCh____AssociatedExpensesPer1t__UAH(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#041cdafbecfc4195a5a52cf64ae99406">* CUR_UAH</a></td><td style="">CUR_UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#baea95e5814649ae9bd0b28d51728143">🔷 Маржа на 1т [CUR]</a></td><td style="">MarginPer1t__CUR</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#8cfe4150b2c54f39b30f791c1d4521c1">* CUR_Selected</a></td><td style="">CUR_Selected</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#77218f9ee4644d58ae23d41edbd96b6c">🔷 Маржа на 1т [UAH]</a></td><td style="">MarginPer1t__UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#041cdafbecfc4195a5a52cf64ae99406">* CUR_UAH</a></td><td style="">CUR_UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#e101cf6bab8e42fa9f1021d9e797979f">🔷 Постоянные расходы на 1т [CUR]</a></td><td style="">ConstantCostsPer1t__CUR</td><td style="text-align:center;">ДА</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____ConstantCostsPer1t__CUR">Z10T10_OnPrCh____ConstantCostsPer1t__CUR(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#8cfe4150b2c54f39b30f791c1d4521c1">* CUR_Selected</a></td><td style="">CUR_Selected</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#e51174a54cb040c7ab49b95eac138da5">🔷 Постоянные расходы на 1т [UAH]</a></td><td style="">ConstantCostsPer1t__UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">&nbsp</td><td style=""><a href = "#Z10T10_OnPrCh____ConstantCostsPer1t__UAH">Z10T10_OnPrCh____ConstantCostsPer1t__UAH(Context context, FormViewBuilder<Context> form)</a></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#041cdafbecfc4195a5a52cf64ae99406">* CUR_UAH</a></td><td style="">CUR_UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#d5057bb5068546c78b6466ec2c2418b8">🔷 Полная себестоимость на 1т. [CUR]</a></td><td style="">FullCostsPer1t__CUR</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#8cfe4150b2c54f39b30f791c1d4521c1">* CUR_Selected</a></td><td style="">CUR_Selected</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#137adfdeef6e4ad189b2d9e3434bdcf7">🔷 Полная себестоимость на 1т. [UAH]</a></td><td style="">FullCostsPer1t__UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#041cdafbecfc4195a5a52cf64ae99406">* CUR_UAH</a></td><td style="">CUR_UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#44cab64b8ff34ff4bb823f41997f49d6">🔷 Расчетная чистая прибыль на 1т [CUR]</a></td><td style="">EstimatedNetProfitPer1t__CUR</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#8cfe4150b2c54f39b30f791c1d4521c1">* CUR_Selected</a></td><td style="">CUR_Selected</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#d0f4cd857224464998be95aabbfb1414">🔷 Расчетная чистая прибыль на 1т [UAH]</a></td><td style="">EstimatedNetProfitPer1t__UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#041cdafbecfc4195a5a52cf64ae99406">* CUR_UAH</a></td><td style="">CUR_UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#052ed1dfae94431f8edc3792e85dc58c">🔴 Расчетная чистая прибыль по сделке [UAH]</a></td><td style="">EstimatedNetProfit__UAH</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#e71554a33c7f4a03acb245fee6566090">🔴 Расчетная чистая прибыль по сделке [USD]</a></td><td style="">EstimatedNetProfit__USD</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#02d23c991446442db7aff2cc2db6a7be">🔴 Расчетная чистая прибыль по сделке [CUR]</a></td><td style="">EstimatedNetProfit__CUR</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#cc85b6548c9c4db284d22d34d15a915d">Total CUR</a></td><td style="">LabelOfTotalCUR</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
<tr><td style=""><a href = "#66df28e2c89346828d107100ea9c2c61">DocAsHtml</a></td><td style="">DocAsHtml</td><td style="text-align:center;">&nbsp</td><td style="text-align:center;">ДА</td><td style=""><Не выбран></td><td style=""><Не выбран></td></tr>
</table>
<tr><td><b>Входящие переходы&nbsp:</b><a href="#11e501932e3049c6b116b36bd13d7ba4">->Z10T10_B10</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#7e3517052df14a14aa0cc2428fe21ae2">->ОК</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#f15a2c579ba840efa57bf29317e4a0a1">->Save</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#745525b4c3354a3e9ac828b8aec9ee8d">->Abort</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#5fa30b193105491d8ac7cad60accfc92">->Событие 4</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Z10T10_A10<a name="2dfbe27c-78b4-46e0-a73e-06da6a0d2f9d"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/2dfbe27c-78b4-46e0-a73e-06da6a0d2f9d.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Операции: </b>Сценарий<br><b>Зона Ответственности: </b><a href = "#9126b0f1c997434da5efe36d24a2aa6c">10. Инициатор реестра</a><br><b>Название метода</b>: <a href = "#Z10T10_A10(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Z10T10_A10(Context context)">Z10T10_A10(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Z10T10_A10(Context context)</a><tr><td><b>Входящие переходы&nbsp:</b><a href="#7e3517052df14a14aa0cc2428fe21ae2">->ОК</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#f52fc02263594a1085038c609924a15a">->Новый лист согласования</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Proc_BeforeStop<a name="9043132e-ab35-40af-990b-e8059129e507"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/9043132e-ab35-40af-990b-e8059129e507.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Операции: </b>Сценарий<br><b>Зона Ответственности: </b><a href = "#dbe76e4e51554ab9ab418f0568589157">30. Онакомление с рез. согласования</a><br><b>Название метода</b>: <a href = "#Proc_BeforeStop(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Proc_BeforeStop(Context context)">Proc_BeforeStop(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Proc_BeforeStop(Context context)</a><tr><td><b>Входящие переходы&nbsp:</b><a href="#658928c7fc7b465e9aaae1e7acf1acf5">->Z30T10_A10</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#1ca6965ac216415782379850483efa91">->Выход</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Z30T10_B10<a name="764699d2-4e0f-47d9-bf28-1bdda1dbd208"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/764699d2-4e0f-47d9-bf28-1bdda1dbd208.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Операции: </b>Сценарий<br><b>Зона Ответственности: </b><a href = "#dbe76e4e51554ab9ab418f0568589157">30. Онакомление с рез. согласования</a><br><b>Название метода</b>: <a href = "#Z30T10_B10(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Z30T10_B10(Context context)">Z30T10_B10(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Z30T10_B10(Context context)</a><tr><td><b>Входящие переходы&nbsp:</b><a href="#110f0a71fdf74f7fab9b85651703aa6d">->Событие 6</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#c6a73cdbab0d4d8ab50176e7a4f68f37">->Ознакомл. 10</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Z30T10_A10<a name="86c8bb12-0993-42ab-8dc1-d6d7dd2cc5a4"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/86c8bb12-0993-42ab-8dc1-d6d7dd2cc5a4.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Операции: </b>Сценарий<br><b>Зона Ответственности: </b><a href = "#dbe76e4e51554ab9ab418f0568589157">30. Онакомление с рез. согласования</a><br><b>Название метода</b>: <a href = "#Z30T10_A10(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Z30T10_A10(Context context)">Z30T10_A10(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Z30T10_A10(Context context)</a><tr><td><b>Входящие переходы&nbsp:</b><a href="#172ee09224bf4479a5eddc8304e48f67">->OK</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#658928c7fc7b465e9aaae1e7acf1acf5">->Proc_BeforeStop</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Z20A10_B10<a name="be29eb68-0deb-4cfa-8ce2-a0ef0f1aff41"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/be29eb68-0deb-4cfa-8ce2-a0ef0f1aff41.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Операции: </b>Сценарий<br><b>Зона Ответственности: </b><a href = "#f376fcfc568e492c9fcd8e284c9c1734">20 • Согласование реестра</a><br><b>Название метода</b>: <a href = "#Z20A10_B10(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Z20A10_B10(Context context)">Z20A10_B10(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Z20A10_B10(Context context)</a><tr><td><b>Входящие переходы&nbsp:</b><a href="#b8934af0430d4abcbb96bab83d868282">->Новый лист согласования</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#b5a1c035a92444ac997939e0d8c435a6">->Согласование 10</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>AfterAppr<a name="d7d38c30-cd57-4761-b784-e8315b2a6edb"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/d7d38c30-cd57-4761-b784-e8315b2a6edb.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Операции: </b>Сценарий<br><b>Зона Ответственности: </b><a href = "#f376fcfc568e492c9fcd8e284c9c1734">20 • Согласование реестра</a><br><b>Название метода</b>: <a href = "#AfterAppr(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - AfterAppr(Context context)">AfterAppr(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - AfterAppr(Context context)</a><tr><td><b>Входящие переходы&nbsp:</b><a href="#816f6bc9319b4f029fd24e3c9c11e7a1">->Событие 2</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#ca6c459aa46c4c418efb6d4260316e54">->Новый лист ознакомления</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Z10T10_A01<a name="08eaf7bc-5175-461f-aad3-fa557435aba5"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/08eaf7bc-5175-461f-aad3-fa557435aba5.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Операции: </b>Сценарий<br><b>Зона Ответственности: </b><a href = "#9126b0f1c997434da5efe36d24a2aa6c">10. Инициатор реестра</a><br><b>Название метода</b>: <a href = "#Z10T10_A01(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Z10T10_A01(Context context)">Z10T10_A01(EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister) - Z10T10_A01(Context context)</a><tr><td><b>Входящие переходы&nbsp:</b><a href="#d34f3bc10ee543c49d332e61e1396f12">->Событие 4</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#e166cc04e7154d8aa4e3e83d6cc5f164">->Выход</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>[Z10T20] Управление временем согласования<a name="c6a39a44-4eb3-4dab-9ee8-b2118440649a"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/c6a39a44-4eb3-4dab-9ee8-b2118440649a.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Операции: </b>Пользовательская Задача<br><b>Зона Ответственности: </b><a href = "#9126b0f1c997434da5efe36d24a2aa6c">10. Инициатор реестра</a><br><tr><td><b>Входящие переходы&nbsp:</b><a href="#fc69ba6f943445a889730b4dcef219d5">->Z10T20_B10</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#913d81096adb4929b77cd3e22bfac53e">->Z01T20_A10</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#9f79f30e83bb4997a42869a2214b6a06">->Z10T20_B10</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a111236462df44828d296647425ecbf4">->Z01T20_A10</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Z10T20_B10<a name="6e3916d2-b42f-4667-80d3-6f49da36f53c"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/6e3916d2-b42f-4667-80d3-6f49da36f53c.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Операции: </b>Сценарий<br><b>Зона Ответственности: </b><a href = "#9126b0f1c997434da5efe36d24a2aa6c">10. Инициатор реестра</a><br><b>Название метода</b>: <Не выбран><tr><td><b>Входящие переходы&nbsp:</b><a href="#5879c58838c649feb06466a56c2a79c3">->Шлюз 1</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#9f79f30e83bb4997a42869a2214b6a06">->[Z10T20] Управление временем согласования</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#fc69ba6f943445a889730b4dcef219d5">->[Z10T20] Управление временем согласования</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Z01T20_A10<a name="3b2a64aa-058c-4ce0-9393-7110e2af0ffb"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/3b2a64aa-058c-4ce0-9393-7110e2af0ffb.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Операции: </b>Сценарий<br><b>Зона Ответственности: </b><a href = "#9126b0f1c997434da5efe36d24a2aa6c">10. Инициатор реестра</a><br><b>Название метода</b>: <Не выбран><tr><td><b>Входящие переходы&nbsp:</b><a href="#913d81096adb4929b77cd3e22bfac53e">->[Z10T20] Управление временем согласования</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#a111236462df44828d296647425ecbf4">->[Z10T20] Управление временем согласования</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#bda2d45f0a5d4a22b1bbb13a2092bf9e">->Шлюз 2</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h2>Документооборот<a name="Документооборот"></a></h2><h3>Новый лист согласования<a name="d5a932cf-bc99-4360-a1fa-aa03e41f0069"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/d5a932cf-bc99-4360-a1fa-aa03e41f0069.png" border=0></td></tr><td valign=top align=left width=100%><b>Элемент: </b>Начало согласования<br><b>Зона Ответственности: </b><a href = "#9126b0f1c997434da5efe36d24a2aa6c">10. Инициатор реестра</a><br><br><b>Метка: </b>ApprList01<br><b>Документы: </b><br><table class="inner">
<tr><td class="title_tab"><b>Отображаемое имя</b></td><td class="title_tab"><b>Имя свойства</b></td><td class="title_tab"><b>Тип</b></td></tr>
<tr><td>Документ реестра</td><td>RegDocument</td><td>📜 Реєстр угоди (Документ)</td></tr>
</table><tr><td><b>Входящие переходы&nbsp:</b><a href="#f52fc02263594a1085038c609924a15a">->Z10T10_A10</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#b8934af0430d4abcbb96bab83d868282">->Z20A10_B10</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Новый лист ознакомления<a name="caf028e9-29a0-4a58-8e24-28beea3258f6"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/caf028e9-29a0-4a58-8e24-28beea3258f6.png" border=0></td></tr><td valign=top align=left width=100%><b>Элемент: </b>Начало ознакомления<br><b>Зона Ответственности: </b><a href = "#9126b0f1c997434da5efe36d24a2aa6c">10. Инициатор реестра</a><br><br><b>Метка: </b>Acq10<br><b>Документы: </b><br><table class="inner">
<tr><td class="title_tab"><b>Отображаемое имя</b></td><td class="title_tab"><b>Имя свойства</b></td><td class="title_tab"><b>Тип</b></td></tr>
<tr><td>Документ реестра</td><td>RegDocument</td><td>📜 Реєстр угоди (Документ)</td></tr>
</table><tr><td><b>Входящие переходы&nbsp:</b><a href="#ca6c459aa46c4c418efb6d4260316e54">->AfterAppr</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#4c4dbe4dc0ba4e37aea3263076dce9b3">->Событие 6</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Ознакомл. 10<a name="16cc5bac-18ee-48ef-945f-6d46a445d5a9"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/16cc5bac-18ee-48ef-945f-6d46a445d5a9.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип документа: </b>Ознакомление<br><b>Зона Ответственности: </b><a href = "#dbe76e4e51554ab9ab418f0568589157">30. Онакомление с рез. согласования</a><br><br><b>Документы: </b><br><table class="inner">
<tr><td class="title_tab"><b>Отображаемое имя</b></td><td class="title_tab"><b>Имя свойства</b></td><td class="title_tab"><b>Тип</b></td></tr>
<tr><td>Документ реестра</td><td>RegDocument</td><td>📜 Реєстр угоди (Документ)</td></tr>
</table><tr><td><b>Входящие переходы&nbsp:</b><a href="#c6a73cdbab0d4d8ab50176e7a4f68f37">->Z30T10_B10</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#172ee09224bf4479a5eddc8304e48f67">->OK</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Согласование 10<a name="1ac4d3ac-c5ac-42b8-9509-8fcbdf6f788b"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/1ac4d3ac-c5ac-42b8-9509-8fcbdf6f788b.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип документа: </b>Утверждение<br><b>Зона Ответственности: </b><a href = "#f376fcfc568e492c9fcd8e284c9c1734">20 • Согласование реестра</a><br><br><b>Документы: </b><br><table class="inner">
<tr><td class="title_tab"><b>Отображаемое имя</b></td><td class="title_tab"><b>Имя свойства</b></td><td class="title_tab"><b>Тип</b></td></tr>
<tr><td>Документ реестра</td><td>RegDocument</td><td>📜 Реєстр угоди (Документ)</td></tr>
</table><tr><td><b>Входящие переходы&nbsp:</b><a href="#b5a1c035a92444ac997939e0d8c435a6">->Z20A10_B10</a>&nbsp;&nbsp;&nbsp;&nbsp;<br><b>Исходящие переходы: </b><a href="#d8633dfd47664b1fb15e402696427359">->✔ (да)</a>&nbsp;&nbsp;&nbsp;&nbsp;<a href="#08ec00e953af404685caec0feb37a721">->✖ (нет)</a>&nbsp;&nbsp;&nbsp;&nbsp;</td></tr></table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h2>Шлюзы<a name="Шлюзы"></a></h2><h3>Шлюз 1<a name="d900a1c3-6dbe-4122-9f55-a9d2c2d8ff73"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/d900a1c3-6dbe-4122-9f55-a9d2c2d8ff73.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Шлюза: </b>ИЛИ-шлюз<br><b>Зона Ответственности: </b><a href = "#f376fcfc568e492c9fcd8e284c9c1734">20 • Согласование реестра</a><br><br><br><b>Исходящие переходы: </b><a href="#5879c58838c649feb06466a56c2a79c3">->Z10T20_B10</a>&nbsp;&nbsp;&nbsp;&nbsp;</table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h3>Шлюз 2<a name="d8a55b28-5fe1-4214-ab6e-551e97820355"></a></h3><table border=0 width=100% class=inner_light><tr><td rowspan=3><img src = "images/d8a55b28-5fe1-4214-ab6e-551e97820355.png" border=0></td></tr><td valign=top align=left width=100%><b>Тип Шлюза: </b>ИЛИ-шлюз<br><b>Зона Ответственности: </b><a href = "#f376fcfc568e492c9fcd8e284c9c1734">20 • Согласование реестра</a><br><br><b>Входящие переходы&nbsp:</b><a href="#bda2d45f0a5d4a22b1bbb13a2092bf9e">->Z01T20_A10</a>&nbsp;&nbsp;&nbsp;&nbsp;</table><p><a href = "#start">Перейти к диаграмме бизнес-процесса</a></p><h2>Переходы<a name=connector></a></h2><table class="inner"><tr><td class="title_tab"><b>Название</b></td><td class="title_tab"><b>Откуда</b></td><td class="title_tab"><b>Куда</b></td><td class="title_tab"><b>Оповещения</b></td><td class="title_tab"><b>Описание</b></td><td class="title_tab"><b>Форма перехода</b></td></tr>
<tr><td><a name = "8136218500834b2987b1b7025e115337"></a>Старт процесса</td><td><a href = "#46a7c442-1f30-4eb4-acc4-160d859e772b">->Событие 1</a></td><td><a href = "#5d77a03f-7eb6-4c06-ba3d-8fef724a392b">->Proc_AfterStart</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "f15a2c579ba840efa57bf29317e4a0a1"></a>Save</td><td><a href = "#0442cf39-cf29-45b4-b827-c32797725e5c">->[Z10T10] Наполнение реестра</a></td><td><a href = "#e6deb332-c7dd-482c-862b-886528ecd812">->Z10T10_B10</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "194c15512657485a8f4bcb6091fdddcb"></a>Сценарий</td><td><a href = "#5d77a03f-7eb6-4c06-ba3d-8fef724a392b">->Proc_AfterStart</a></td><td><a href = "#e6deb332-c7dd-482c-862b-886528ecd812">->Z10T10_B10</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "11e501932e3049c6b116b36bd13d7ba4"></a>Задача</td><td><a href = "#e6deb332-c7dd-482c-862b-886528ecd812">->Z10T10_B10</a></td><td><a href = "#0442cf39-cf29-45b4-b827-c32797725e5c">->[Z10T10] Наполнение реестра</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "7e3517052df14a14aa0cc2428fe21ae2"></a>ОК</td><td><a href = "#0442cf39-cf29-45b4-b827-c32797725e5c">->[Z10T10] Наполнение реестра</a></td><td><a href = "#2dfbe27c-78b4-46e0-a73e-06da6a0d2f9d">->Z10T10_A10</a></td><td></td><td></td><td>Участники согласования и ознакомления</td></tr>
<tr><td><a name = "1ca6965ac216415782379850483efa91"></a>Выход</td><td><a href = "#9043132e-ab35-40af-990b-e8059129e507">->Proc_BeforeStop</a></td><td><a href = "#dafccc0a-b21e-461a-9d68-2620e928cf32">->Событие 3</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "e166cc04e7154d8aa4e3e83d6cc5f164"></a>Выход</td><td><a href = "#08eaf7bc-5175-461f-aad3-fa557435aba5">->Z10T10_A01</a></td><td><a href = "#dafccc0a-b21e-461a-9d68-2620e928cf32">->Событие 3</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "658928c7fc7b465e9aaae1e7acf1acf5"></a>Сценарий</td><td><a href = "#86c8bb12-0993-42ab-8dc1-d6d7dd2cc5a4">->Z30T10_A10</a></td><td><a href = "#9043132e-ab35-40af-990b-e8059129e507">->Proc_BeforeStop</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "f52fc02263594a1085038c609924a15a"></a>Новый лист согласования</td><td><a href = "#2dfbe27c-78b4-46e0-a73e-06da6a0d2f9d">->Z10T10_A10</a></td><td><a href = "#d5a932cf-bc99-4360-a1fa-aa03e41f0069">->Новый лист согласования</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "110f0a71fdf74f7fab9b85651703aa6d"></a>Сценарий</td><td><a href = "#6aa0646a-c1a5-4374-9d42-7ca5e4513d93">->Событие 6</a></td><td><a href = "#764699d2-4e0f-47d9-bf28-1bdda1dbd208">->Z30T10_B10</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "172ee09224bf4479a5eddc8304e48f67"></a>OK</td><td><a href = "#16cc5bac-18ee-48ef-945f-6d46a445d5a9">->Ознакомл. 10</a></td><td><a href = "#86c8bb12-0993-42ab-8dc1-d6d7dd2cc5a4">->Z30T10_A10</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "ca6c459aa46c4c418efb6d4260316e54"></a>Новый лист ознакомления</td><td><a href = "#d7d38c30-cd57-4761-b784-e8315b2a6edb">->AfterAppr</a></td><td><a href = "#caf028e9-29a0-4a58-8e24-28beea3258f6">->Новый лист ознакомления</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "c6a73cdbab0d4d8ab50176e7a4f68f37"></a>Ознакомление</td><td><a href = "#764699d2-4e0f-47d9-bf28-1bdda1dbd208">->Z30T10_B10</a></td><td><a href = "#16cc5bac-18ee-48ef-945f-6d46a445d5a9">->Ознакомл. 10</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "b8934af0430d4abcbb96bab83d868282"></a>Сценарий</td><td><a href = "#d5a932cf-bc99-4360-a1fa-aa03e41f0069">->Новый лист согласования</a></td><td><a href = "#be29eb68-0deb-4cfa-8ce2-a0ef0f1aff41">->Z20A10_B10</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "b5a1c035a92444ac997939e0d8c435a6"></a>Согласование</td><td><a href = "#be29eb68-0deb-4cfa-8ce2-a0ef0f1aff41">->Z20A10_B10</a></td><td><a href = "#1ac4d3ac-c5ac-42b8-9509-8fcbdf6f788b">->Согласование 10</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "816f6bc9319b4f029fd24e3c9c11e7a1"></a>Сценарий</td><td><a href = "#58bd0a6d-e6d4-4de8-b690-54a2cd07ff9e">->Событие 2</a></td><td><a href = "#d7d38c30-cd57-4761-b784-e8315b2a6edb">->AfterAppr</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "d34f3bc10ee543c49d332e61e1396f12"></a>Сценарий</td><td><a href = "#fb3a1ddb-67af-4838-9960-6c6560e02a5a">->Событие 4</a></td><td><a href = "#08eaf7bc-5175-461f-aad3-fa557435aba5">->Z10T10_A01</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "d8633dfd47664b1fb15e402696427359"></a>✔ (да)</td><td><a href = "#1ac4d3ac-c5ac-42b8-9509-8fcbdf6f788b">->Согласование 10</a></td><td><a href = "#58bd0a6d-e6d4-4de8-b690-54a2cd07ff9e">->Событие 2</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "08ec00e953af404685caec0feb37a721"></a>✖ (нет)</td><td><a href = "#1ac4d3ac-c5ac-42b8-9509-8fcbdf6f788b">->Согласование 10</a></td><td><a href = "#58bd0a6d-e6d4-4de8-b690-54a2cd07ff9e">->Событие 2</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "bda2d45f0a5d4a22b1bbb13a2092bf9e"></a>Шлюз</td><td><a href = "#3b2a64aa-058c-4ce0-9393-7110e2af0ffb">->Z01T20_A10</a></td><td><a href = "#d8a55b28-5fe1-4214-ab6e-551e97820355">->Шлюз 2</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "fc69ba6f943445a889730b4dcef219d5"></a>Задача</td><td><a href = "#6e3916d2-b42f-4667-80d3-6f49da36f53c">->Z10T20_B10</a></td><td><a href = "#c6a39a44-4eb3-4dab-9ee8-b2118440649a">->[Z10T20] Управление временем согласования</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "5879c58838c649feb06466a56c2a79c3"></a>Сценарий</td><td><a href = "#d900a1c3-6dbe-4122-9f55-a9d2c2d8ff73">->Шлюз 1</a></td><td><a href = "#6e3916d2-b42f-4667-80d3-6f49da36f53c">->Z10T20_B10</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "9f79f30e83bb4997a42869a2214b6a06"></a>Сценарий</td><td><a href = "#c6a39a44-4eb3-4dab-9ee8-b2118440649a">->[Z10T20] Управление временем согласования</a></td><td><a href = "#6e3916d2-b42f-4667-80d3-6f49da36f53c">->Z10T20_B10</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "913d81096adb4929b77cd3e22bfac53e"></a>Сценарий</td><td><a href = "#c6a39a44-4eb3-4dab-9ee8-b2118440649a">->[Z10T20] Управление временем согласования</a></td><td><a href = "#3b2a64aa-058c-4ce0-9393-7110e2af0ffb">->Z01T20_A10</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "a111236462df44828d296647425ecbf4"></a>Сценарий</td><td><a href = "#c6a39a44-4eb3-4dab-9ee8-b2118440649a">->[Z10T20] Управление временем согласования</a></td><td><a href = "#3b2a64aa-058c-4ce0-9393-7110e2af0ffb">->Z01T20_A10</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "4c4dbe4dc0ba4e37aea3263076dce9b3"></a>Событие</td><td><a href = "#caf028e9-29a0-4a58-8e24-28beea3258f6">->Новый лист ознакомления</a></td><td><a href = "#6aa0646a-c1a5-4374-9d42-7ca5e4513d93">->Событие 6</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "745525b4c3354a3e9ac828b8aec9ee8d"></a>Abort</td><td><a href = "#0442cf39-cf29-45b4-b827-c32797725e5c">->[Z10T10] Наполнение реестра</a></td><td><a href = "#fb3a1ddb-67af-4838-9960-6c6560e02a5a">->Событие 4</a></td><td></td><td></td><td><Не выбрана></td></tr>
<tr><td><a name = "5fa30b193105491d8ac7cad60accfc92"></a>Событие</td><td><a href = "#0442cf39-cf29-45b4-b827-c32797725e5c">->[Z10T10] Наполнение реестра</a></td><td><a href = "#fb3a1ddb-67af-4838-9960-6c6560e02a5a">->Событие 4</a></td><td></td><td></td><td><Не выбрана></td></tr>
</table><h2>Сценарии<a name=script></a></h2><table><tr><td style="padding-left:0"><div style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; padding:10px; background-color: #F6F6F9; border: 1px solid #E7E7EF; font-size:120%;"><pre>// KP_DealRegister_Scripts
// 2023-04-04(2) 09-25
//
using EleWise.ELMA.API;
using EleWise.ELMA.Common.Models;
using EleWise.ELMA.ConfigurationModel;
using EleWise.ELMA.Diagrams;
using EleWise.ELMA.Documents.Managers;
using EleWise.ELMA.Documents.Models;
using EleWise.ELMA.Documents.Models.Nomenclature;
using EleWise.ELMA.Documents.Models.Tasks;
using EleWise.ELMA.Extensions;
using EleWise.ELMA.Files;
using EleWise.ELMA.Model.Managers;
using EleWise.ELMA.Model.Services;
using EleWise.ELMA.Runtime.Managers;
using EleWise.ELMA.Scheduling.Models;
using EleWise.ELMA.Security.Models;
using EleWise.ELMA.Services;
using EleWise.ELMA.Tasks.Models;
using EleWise.ELMA.Templates;
using EleWise.ELMA.Workflow.BPMN.Diagrams.Elements;
using EleWise.ELMA.Workflow.Managers;
using EleWise.ELMA.Workflow.Models;
using EleWise.ELMA.Workflow.Services;
using System;
using System.Collections.Generic;
using System.Globalization;
using System.IO;
using System.Linq;
using System.Text;
using BL10_ProcTask = EleWise.ELMA.Model.Entities.ProcessContext.KP_DealReg_BL10_ProcTask;
using BL1010_TaskMbr = EleWise.ELMA.Model.Entities.ProcessContext.KP_DealReg_BL10BL10_TaskMember;
using Context = EleWise.ELMA.Model.Entities.ProcessContext.KP_DealRegister;
using PC_BL10_ProcTask = EleWise.ELMA.ConfigurationModel.KO_PC_DealReg_BL10_ProcTask;
using PC_BL1010_TaskMbr = EleWise.ELMA.ConfigurationModel.KO_PC_DealReg_BL10_BL10_TaskMember;
using Kusto;
using Kusto.Elma;
using Kusto.Sys;
using Kusto.Ext.Enum;
using Kusto.Linq;
using Kusto.Ext__ContractorLegal;

namespace EleWise.ELMA.Model.Scripts
{
    public partial class KP_DealRegister_Scripts : EleWise.ELMA.Workflow.Scripts.ProcessScriptBase<Context>
    {
        #region ▬▬▬▬▬▬ Proc ▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬
        //
        public<a name="Proc_AfterStart" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Proc_AfterStart (Context context)
        {
            context.Prepare ();
            context.Save ();
        }

        //
        public<a name="Proc_BeforeStop" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Proc_BeforeStop (Context context)
        {
        }

        //
        public<a name="Proc_BeforeAbort" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Proc_BeforeAbort (Context context)
        {
            if(context.RegDocument != null)
            {
                EDocStatus docStatus = context.RegDocument.DocStatus;
                HashSet<EDocStatus> breakableStatuses =<a name="if" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> new HashSet<EDocStatus>
                { 
                    EDocStatus.New,
                    EDocStatus.OnApprovement
                };
                
                if (breakableStatuses.Contains(docStatus))
                {
                    context.RegDocument.DocStatus = EDocStatus.AbortedOrNotActual;
                }
            }
            context.UpdateProcDoc();
            context.UpdateProcName();
        }

        //
        #endregion ▬▬▬ Proc
        //
        #region ▬▬▬▬▬▬ Z10 ▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬
        //
        #region ------ Z10T10 -----------------------------------------------------------------------------------------------------------------------
        //
        public<a name="Z10T10_A0" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_A01(Context context)
        {
            Proc_BeforeAbort(context);
            ContractorLegal__ExtFilter.FilterOn_UnlockedContractor(context, c => c.RegContractor);
        }


        public<a name="Z10T10_A10" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_A10 (Context context)
        {
            if (context.RegDocument != null)
            {
                EDocStatus docStatus = context.RegDocument.DocStatus;
                HashSet<EDocStatus> suitableStatuses =<a name="if" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> new HashSet<EDocStatus>
                {
                   <a name="if" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> EDocStatus.New
                };

                if (suitableStatuses.Contains(docStatus))
                    context.RegDocument.DocStatus = EDocStatus.OnApprovement;
                else
                    throw<a name="Exceptio" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> new Exception("Не подходящий статус документа");
            }
            context.UpdateProcDoc ();
        }

        public<a name="Z10T10_B10" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_B10 (Context context)
        {
            context.UpdateProcName ();
            context.UpdateProcDoc ();
        }

        public<a name="Z10T10_OnFormLoad" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnFormLoad (Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            Z10T10_UpdatePropsSettins(context, form);
            //Z10T10_Recalculate(context, form);
        }

        public<a name="Z10T10_OnPrCh____Amount__tonn" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____Amount__tonne(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            Z10T10_Recalculate(context, form);
        }

        public<a name="Z10T10_OnPrCh____VAT__percent" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____VAT__percents(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            Z10T10_Recalculate(context, form);
        }

        public<a name="Z10T10_OnPrCh____DealCurrenc" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____DealCurrency(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            Boolean currencyIsUAH = context.DealCUR == CurrencyType.UAH;
            Boolean currencyIsUSD = context.DealCUR == CurrencyType.USD;
            Boolean currencyIsEUR = context.DealCUR == CurrencyType.EUR;
            //
            context.CURtoUAH = currencyIsUAH ? (Double?)1.00 : currencyIsUSD ? context.USDtoUAH : null;
            context.USDtoUAH = currencyIsUSD ? (Double?)context.CURtoUAH : context.USDtoUAH;
            //
            context.CUR_Selected = context.DealCUR.Str();
            context.CUR_UAH = currencyIsUAH ? "" : "UAH";
            context.LabelOfTotalCUR = currencyIsEUR ? "EUR" : "";
            //
            Z10T10_Recalculate(context, form);
            Z10T10_UpdatePropsSettins(context, form);
        }

        public<a name="Z10T10_OnPrCh____CURtoUA" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____CURtoUAH(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            Boolean currencyIsUSD = context.DealCUR == CurrencyType.USD;
            if(currencyIsUSD) context.USDtoUAH = context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }

        public<a name="Z10T10_OnPrCh____USDtoUA" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____USDtoUAH(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            Z10T10_Recalculate(context, form);
        }

        public<a name="Z10T10_OnPrCh____SellingPricePer1ton__CU" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____SellingPricePer1ton__CUR(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Цена реализации за 1т [CUR]");
            context.SellingPricePer1ton__UAH = context.SellingPricePer1ton__CUR * context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        

        public<a name="Z10T10_OnPrCh____SellingPricePer1ton__UA" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____SellingPricePer1ton__UAH(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Цена реализации за 1т [UAH]");
            context.SellingPricePer1ton__CUR = context.SellingPricePer1ton__UAH / context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        public<a name="Z10T10_OnPrCh____CostOfEXWatTheElevator__CU" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____CostOfEXWatTheElevator__CUR(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Себестоимость EXW на элеваторе на 1т [CUR]");
            context.CostOfEXWatTheElevator__UAH = context.CostOfEXWatTheElevator__CUR * context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        public<a name="Z10T10_OnPrCh____CostOfEXWatTheElevator__UA" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____CostOfEXWatTheElevator__UAH(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Себестоимость EXW на элеваторе на 1т [UAH]");
            context.CostOfEXWatTheElevator__CUR = context.CostOfEXWatTheElevator__UAH / context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        public<a name="Z10T10_OnPrCh____EstimatedCostOfLogistics__CU" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____EstimatedCostOfLogistics__CUR(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Расчетная стоимость логистики на 1т [CUR]");
            context.EstimatedCostOfLogistics__UAH = context.EstimatedCostOfLogistics__CUR * context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        public<a name="Z10T10_OnPrCh____EstimatedCostOfLogistics__UA" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____EstimatedCostOfLogistics__UAH(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Расчетная стоимость логистики на 1т [UAH]");
            context.EstimatedCostOfLogistics__CUR = context.EstimatedCostOfLogistics__UAH / context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        public<a name="Z10T10_OnPrCh____TaxPer1t__CU" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____TaxPer1t__CUR(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Налоги на 1т [CUR]");
            context.TaxPer1t__UAH = context.TaxPer1t__CUR * context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        public<a name="Z10T10_OnPrCh____TaxPer1t__UA" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____TaxPer1t__UAH(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Налоги на 1т [UAH]");
            context.TaxPer1t__CUR = context.TaxPer1t__UAH / context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        public<a name="Z10T10_OnPrCh____TransshipmentPer1t__CU" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____TransshipmentPer1t__CUR(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Перевалка на 1т [CUR]");
            context.TransshipmentPer1t__UAH = context.TransshipmentPer1t__CUR * context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        public<a name="Z10T10_OnPrCh____TransshipmentPer1t__UA" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____TransshipmentPer1t__UAH(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Перевалка на 1т [UAH]");
            context.TransshipmentPer1t__CUR = context.TransshipmentPer1t__UAH / context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        public<a name="Z10T10_OnPrCh____ElevatorServicesPer1t__CU" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____ElevatorServicesPer1t__CUR(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Услуги элеватора (сбыт) на 1т [CUR]");
            context.ElevatorServicesPer1t__UAH = context.ElevatorServicesPer1t__CUR * context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        public<a name="Z10T10_OnPrCh____ElevatorServicesPer1t__UA" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____ElevatorServicesPer1t__UAH(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Услуги элеватора (сбыт) на 1т [UAH]");
            context.ElevatorServicesPer1t__CUR = context.ElevatorServicesPer1t__UAH / context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        public<a name="Z10T10_OnPrCh____AssociatedExpensesPer1t__CU" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____AssociatedExpensesPer1t__CUR(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Сопутствующие расходы на 1т [CUR]");
            context.AssociatedExpensesPer1t__UAH = context.AssociatedExpensesPer1t__CUR * context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        public<a name="Z10T10_OnPrCh____AssociatedExpensesPer1t__UA" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____AssociatedExpensesPer1t__UAH(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Сопутствующие расходы на 1т [UAH]");
            context.AssociatedExpensesPer1t__CUR = context.AssociatedExpensesPer1t__UAH / context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        public<a name="Z10T10_OnPrCh____ConstantCostsPer1t__CU" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____ConstantCostsPer1t__CUR(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Постоянные расходы на 1т [CUR]");
            context.ConstantCostsPer1t__UAH = context.ConstantCostsPer1t__CUR * context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }
        public<a name="Z10T10_OnPrCh____ConstantCostsPer1t__UA" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z10T10_OnPrCh____ConstantCostsPer1t__UAH(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            //form.Notifier.Information("Постоянные расходы на 1т [UAH]");
            context.ConstantCostsPer1t__CUR = context.ConstantCostsPer1t__UAH / context.CURtoUAH;
            Z10T10_Recalculate(context, form);
        }

       <a name="Z10T10_UpdatePropsSettin" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> private void Z10T10_UpdatePropsSettins(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            Boolean currencyIsUAH = context.DealCUR == CurrencyType.UAH;
            Boolean currencyIsUSD = context.DealCUR == CurrencyType.USD;
            //
            form.For(p => p.CURtoUAH).ReadOnly(currencyIsUAH);            
            form.For(p => p.USDtoUAH).Visible(!currencyIsUSD);
            //
            form.For(p => p.SellingPricePer1ton__UAH).Visible(!currencyIsUAH);
            form.For(p => p.CostOfEXWatTheElevator__UAH).Visible(!currencyIsUAH);
            form.For(p => p.EstimatedCostOfLogistics__UAH).Visible(!currencyIsUAH);
            form.For(p => p.TaxPer1t__UAH).Visible(!currencyIsUAH);
            form.For(p => p.TransshipmentPer1t__UAH).Visible(!currencyIsUAH);
            form.For(p => p.ElevatorServicesPer1t__UAH).Visible(!currencyIsUAH);
            form.For(p => p.AssociatedExpensesPer1t__UAH).Visible(!currencyIsUAH);
            form.For(p => p.ConstantCostsPer1t__UAH).Visible(!currencyIsUAH);
            form.For(p => p.MarginPer1t__UAH).Visible(!currencyIsUAH);
            form.For(p => p.EstimatedNetProfitPer1t__UAH).Visible(!currencyIsUAH);
            form.For(p => p.EstimatedNetProfit__CUR).Visible(!currencyIsUSD && !currencyIsUAH);
        }

       <a name="Z10T10_Recalculat" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> private void Z10T10_Recalculate(Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            Double? variableCostPer1t__CUR = context.CostOfEXWatTheElevator__CUR
                + context.EstimatedCostOfLogistics__CUR
                + context.TaxPer1t__CUR
                + context.TransshipmentPer1t__CUR
                + context.ElevatorServicesPer1t__CUR
                + context.AssociatedExpensesPer1t__CUR;
            //Double? SellingPricePer1tonWithoutVAT__CUR = context.SellingPricePer1ton__CUR - (context.VAT__percents * context.SellingPricePer1ton__CUR / 100.00);
            Double? SellingPricePer1tonWithoutVAT__CUR = context.SellingPricePer1ton__CUR - context.VAT__percents == 0.00 ? 0.00 : (context.SellingPricePer1ton__CUR/(1+context.VAT__percents/100));
            context.MarginPer1t__CUR = SellingPricePer1tonWithoutVAT__CUR - variableCostPer1t__CUR;
            context.FullCostsPer1t__CUR = context.ConstantCostsPer1t__CUR + variableCostPer1t__CUR;
            context.EstimatedNetProfitPer1t__CUR = context.MarginPer1t__CUR - context.ConstantCostsPer1t__CUR;
            context.EstimatedNetProfit__CUR = context.EstimatedNetProfitPer1t__CUR * context.Amount__tonne;
            //
            Double? CURtoUAH = context.CURtoUAH;
            context.SellingPricePer1ton__UAH = context.SellingPricePer1ton__CUR * CURtoUAH;
            context.CostOfEXWatTheElevator__UAH = context.CostOfEXWatTheElevator__CUR * CURtoUAH;
            context.EstimatedCostOfLogistics__UAH = context.EstimatedCostOfLogistics__CUR * CURtoUAH;
            context.TaxPer1t__UAH = context.TaxPer1t__CUR * CURtoUAH;
            context.TransshipmentPer1t__UAH = context.TransshipmentPer1t__CUR * CURtoUAH;
            context.ElevatorServicesPer1t__UAH = context.ElevatorServicesPer1t__CUR * CURtoUAH;
            context.AssociatedExpensesPer1t__UAH = context.AssociatedExpensesPer1t__CUR * CURtoUAH;
            context.ConstantCostsPer1t__UAH = context.ConstantCostsPer1t__CUR * CURtoUAH;
            context.FullCostsPer1t__UAH = context.FullCostsPer1t__CUR * CURtoUAH;
            context.MarginPer1t__UAH = context.MarginPer1t__CUR * context.CURtoUAH;
            context.EstimatedNetProfitPer1t__UAH = context.EstimatedNetProfitPer1t__CUR * CURtoUAH;
            context.EstimatedNetProfit__UAH = context.EstimatedNetProfit__CUR * CURtoUAH;
            context.EstimatedNetProfit__USD = context.DealCUR == CurrencyType.USD ? context.EstimatedNetProfit__CUR
                : context.EstimatedNetProfit__UAH / context.USDtoUAH;
        }

        public<a name="FormOnLoad_ProcMembers" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void FormOnLoad_ProcMembers (Context context, EleWise.ELMA.Model.Views.FormViewBuilder<Context> form)
        {
            context.UpdateProcMembers ();
        }

        //
        #endregion --- Z10T10
        //
        #endregion ▬▬▬ Z10
        //
        #region ▬▬▬▬▬▬ Z20 ▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬
        //
        #region ------ Z20A10 -----------------------------------------------------------------------------------------------------------------------
        //
        public<a name="Z20A10_B10" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z20A10_B10 (Context context)
        {
            context.UpdateProcMembers ();
            //ProcTask_DealRegV01 taskCode = ProcTask_DealRegV01.Z20_A10;
            ////
            //PC_BL10_ProcTask procTask = context.ProcConfig ().BL10_ProcTasks.Where (e => e.BI_TaskCode == taskCode).First ();
            //context.ApprTimer = TimeSpan.FromMinutes (context.ProcConfig ().Appr_MinutesPerTick);
            //context.ApprEscalationTime = DateTime.Now + TimeSpan.FromMinutes (procTask.BI_TimeLimit__inTick * context.ProcConfig ().Appr_MinutesPerTick);
            //context.ApprTimeTimit = context.ApprEscalationTime;
            //context.SendNotification_YouHaveBrteakableApprTask (taskCode);
        }

        

        //
        public<a name="Z20A10_A10" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z20A10_A10 (Context context)
        {
            //context.BreakActiveTimer ("Z20A10_Timer");
            //ProcTask_DealRegV01 taskCode = ProcTask_DealRegV01.Z20_A10;
            //Aux_DocApprInfo apprInfo = context.RegDocument.GetApprResult ();
            //BL10_ProcTask procTask = context.GetProcTask (taskCode);
            //procTask.BI_TaskCompleted = true;
            //Dictionary<Int64, Aux_DocApprInfoItem> executor_result = apprInfo.DocApprInfoItems.ToDictionary (k => k.Executor.Id);
            //foreach (BL1010_TaskMbr tMbr in procTask.BL10_TaskMembers.ToList ()) {
            //    tMbr.BI_ApprResult = executor_result [tMbr.BI_ApprMember.Id].Executor_Solution;
            //}
            context.UpdateProcDoc ();
        }
        //
        public<a name="AfterApp" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void AfterAppr(Context context)
        {
            if (context.RegDocument != null)
            {
                EDocStatus docStatus = context.RegDocument.DocStatus;
                HashSet<EDocStatus> suitableStatuses =<a name="if" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> new HashSet<EDocStatus>
                {
                    EDocStatus.OnApprovement
                };
                if (!suitableStatuses.Contains(docStatus))
                    throw<a name="Exceptio" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> new Exception("Не подходящий статус документа");
                Boolean allConfirmed = context.RegDocument.GetApprResult().DocApprInfoItems.All(e => e.Executor_Solution == ApprovalStatus.Confirm);
                context.RegDocument.DocStatus = allConfirmed ? EDocStatus.Approved : EDocStatus.Refused;
            }
            context.UpdateProcDoc();
            context.UpdateProcName();
        }
        //
        #endregion --- Z20A10
        //
        #endregion ▬▬▬ Z20
        //
        #region ▬▬▬▬▬▬ Z30 ▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬▬
        //
        #region ------ Z30T10 -----------------------------------------------------------------------------------------------------------------------
        //
        public<a name="Z30T10_B10" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z30T10_B10 (Context context)
        {
        }

        //
        public<a name="Z30T10_A10" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> virtual void Z30T10_A10 (Context context)
        {
        }

        //
        #endregion --- Z30T10
        //
        #endregion ▬▬▬ Z30
        //
    }
    public<a name="DateTime" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static class Ext_Context
    {
       <a name="DateTime" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> private const Int64 ProcConfigKey = 1;

       <a name="DateTime" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> private readonly<a name="DateTime" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static DateTime MinProcDate =<a name="DateTime" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> new DateTime (2022, 10, 14, 09, 25, 00);

        public<a name="UpdateRegDocApprList" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static Attachment UpdateRegDocApprList (this Context context)
        {
            IApprovementTaskGroup AppGroup = ApprovementTaskGroupManager.Instance.GetGroupsByDocument (context.RegDocument).LastOrDefault ();
            if (AppGroup == null)
                return null;
            //    
            context.RegDocApprList = PublicAPI.Docflow.Objects.Tasks.ApprovementList.ApprovementListToPdf (context.RegDocument);
            context.RegDocApprList.File.Name = String.Format ("Лист согласования документа [{0}]", context.ProcName);
            return context.RegDocApprList;
        }

        public<a name="UpdateProcDoc" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static KD_DealRegister UpdateProcDoc (this Context context)
        {
            KD_DealRegister procDoc = context.RegDocument;
            if (procDoc == null) {
                procDoc = EntityManager<KD_DealRegister>.Instance.Find (e => e.RegNumber == context.GetProcNumber ()).FirstOrDefault ();
                context.RegDocument = procDoc;
            }
            //
            if (procDoc == null) {
                BinaryFile docFile = Ext_BinaryFile.CreateEmptyBinaryFile ("Пустой файл");
                Folder docDir = Ext_Folder.Cd ("Реестры сделок").Cd ("{0:yyyy}", context.RegDate).Cd ("{0:MM} ({0:MMMM})", context.RegDate).Cd (context.ProcName);
                procDoc = PublicAPI.Docflow.Types.UserKD_DealRegister.Create (docFile, docDir, context.UpdateProcName ());
                procDoc.RegNumber = context.GetProcNumber ();
                procDoc.RegDate = context.GetProcDate ();
                procDoc.RegInitiator = context.ProcUsrZ10_RegInitiator;
                //
                context.RegDocument = procDoc;
            }
            //
            procDoc.CurrentVersion.File = Ext_BinaryFile.GenerateFromTemplate<a name="DealRegister_PrintForm" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> (new DealRegister_PrintForm (context), context.ProcConfig ().FilePath_RegPrintForm, context.ProcName);
            var htmlFile =<a name="DealRegister_PrintFor" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> Ext_BinaryFile.GenerateFromTemplate(new DealRegister_PrintForm(context), @"C:\ELMA-KustoAgro-DocumentTemplates\DealReg\DealReg v02.html", context.ProcName);
            context.DocAsHtml =<a name="System.Web.HtmlStrin" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> new System.Web.HtmlString(System.IO.File.ReadAllText(htmlFile.ContentFilePath));
            //
            procDoc.Name = context.UpdateProcName ();
            procDoc.Folder.Name = procDoc.Name;
            //
            procDoc.Rem = context.Rem;
            procDoc.RemAttachments.Clear ();
            procDoc.RemAttachments.AddAll (context.RemAttachments);
            procDoc.Contractor = context.RegContractor;
            procDoc.Culture = context.Culture;
            procDoc.Amount__tonne = context.Amount__tonne;
            procDoc.PaymentForm = context.PaymentForm;
            procDoc.Tolerans = context.Tolerans;
            procDoc.Quality = context.Quality;
            procDoc.PointOfShipping = context.PointOfShipping;
            procDoc.PointOfDestination = context.PointOfDestination;
            procDoc.DeliveryMethod = context.DeliveryMethod;
            procDoc.DeliveryDateFrom = context.DeliveryDateFrom;
            procDoc.DeliveryDateTill = context.DeliveryDateTill;
            procDoc.BasisOfDelivery = context.BasisOfDelivery;
            procDoc.VAT__percents = context.VAT__percents;
            procDoc.DealCUR = context.DealCUR;
            procDoc.CURtoUAH = context.CURtoUAH;
            procDoc.USDtoUAH = context.USDtoUAH;
            procDoc.SellingPricePer1ton__CUR = context.SellingPricePer1ton__CUR;
            procDoc.SellingPricePer1ton__UAH = context.SellingPricePer1ton__UAH;
            procDoc.CostOfEXWatTheElevator__CUR = context.CostOfEXWatTheElevator__CUR;
            procDoc.CostOfEXWatTheElevator__UAH = context.CostOfEXWatTheElevator__UAH;
            procDoc.EstimatedCostOfLogistics__CUR = context.EstimatedCostOfLogistics__CUR;
            procDoc.EstimatedCostOfLogistics__UAH = context.EstimatedCostOfLogistics__UAH;
            procDoc.TaxPer1t__CUR = context.TaxPer1t__CUR;
            procDoc.TaxPer1t__UAH = context.TaxPer1t__UAH;
            procDoc.TransshipmentPer1t__CUR = context.TransshipmentPer1t__CUR;
            procDoc.TransshipmentPer1t__UAH = context.TransshipmentPer1t__UAH;
            procDoc.ElevatorServicesPer1t__CUR = context.ElevatorServicesPer1t__CUR;
            procDoc.ElevatorServicesPer1t__UAH = context.ElevatorServicesPer1t__UAH;
            procDoc.AssociatedExpensesPer1t__CUR = context.AssociatedExpensesPer1t__CUR;
            procDoc.AssociatedExpensesPer1t__UAH = context.AssociatedExpensesPer1t__UAH;
            procDoc.MarginPer1t__CUR = context.MarginPer1t__CUR;
            procDoc.MarginPer1t__UAH = context.MarginPer1t__UAH;
            procDoc.ConstantCostsPer1t__CUR = context.ConstantCostsPer1t__CUR;
            procDoc.ConstantCostsPer1t__UAH = context.ConstantCostsPer1t__UAH;
            procDoc.FullCostsPer1t__CUR = context.FullCostsPer1t__UAH;
            procDoc.FullCostsPer1t__UAH = context.FullCostsPer1t__UAH;
            procDoc.EstimatedNetProfitPer1t__CUR = context.EstimatedNetProfitPer1t__CUR;
            procDoc.EstimatedNetProfitPer1t__UAH = context.EstimatedNetProfitPer1t__UAH;
            procDoc.EstimatedNetProfit__CUR = context.EstimatedNetProfit__CUR;
            procDoc.EstimatedNetProfit__UAH = context.EstimatedNetProfit__UAH;
            procDoc.EstimatedNetProfit__USD = context.EstimatedNetProfit__USD;
            //
            //
            procDoc.ApprovementList = context.UpdateRegDocApprList ();
            //
            return procDoc;
        }

        public<a name="UpdateProcName" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static String UpdateProcName (this Context context)
        {
            EDocStatus docStatus = context.RegDocument == null ?<a name="String.Format" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> EDocStatus.New : context.RegDocument.DocStatus;
            String procName = String.Format ("Реестр сделки №{0}{1} от {2} с {3}"
                , context.GetProcNumber().Str(StrFormat.DocNumb)
                , docStatus.Sign()
                , context.GetProcDate().Str(StrFormat.Date)
                , context.RegContractor);
            context.ProcName = procName;
            return procName;
        }

        /// <summary> Получить объект конфигурации процесса </summary>
        public<a name="ProcConfig" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static KO_PC_DealReg ProcConfig (this Context context)
        {
            KO_PC_DealReg procConfig = context.ProcConfing;
            if (procConfig == null) {
                procConfig = EntityManager<KO_PC_DealReg>.Instance.Find (e => e.Key == ProcConfigKey && e.Actuality == KE_Actuality.Actual).FirstOrDefault ();
                context.ProcConfing = procConfig;
            }
            if (procConfig == null) {
                procConfig = EntityManager<KO_PC_DealReg>.Create ();
                //
                procConfig.Key = ProcConfigKey;
                procConfig.Actuality = KE_Actuality.Actual;
                procConfig.Remarks = "Создано автоматически";
                procConfig.FilePath_RegPrintForm = String.Empty;
                procConfig.Appr_MinutesPerTick = 20;
                //
                PC_BL10_ProcTask procTask_z20a10 = EntityManager<PC_BL10_ProcTask>.Create ();
                procTask_z20a10.BI_TaskCode = ProcTask_DealRegV01.Z20_A10;
                procTask_z20a10.BI_TimeLimit__inTick = 9;
                procTask_z20a10.BI_TaskName = "Согласование 01";
                procConfig.BL10_ProcTasks.Add (procTask_z20a10);                
                //
                context.ProcConfing = procConfig;
            }
            return procConfig;
        }

        /// <summary> Получить дату процесса </summary>
        public<a name="GetProcDate" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static DateTime GetProcDate (this Context context)
        {
            DateTime procDate = context.RegDate;
            if (procDate < MinProcDate) {
                procDate = DateTime.Now;
                context.RegDate = procDate;
            }
            return procDate;
        }

        public<a name="GetProcNumber" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static Int64 GetProcNumber (this Context context)
        {
            Int64 procNumber = context.RegNumber;
            if (procNumber < 1) {
                Numerator numerator = context.ProcConfig ().ProcNumerator;
                DateTime currentTime = DateTime.Now;
                //
                Int64 docYear = numerator.Value / 1000000;
                Int64 docMonth = numerator.Value / 10000 % 100;
                //
                Int32 currentYear = currentTime.Year % 100;
                Int32 currentMonth = currentTime.Month;
                if(docYear < currentYear || docMonth < currentMonth)
                {
                    numerator.Value = (currentYear * 100 + currentMonth) * 10000 + 1;
                    numerator.Save();
                    procNumber = numerator.Value;
                }
                else procNumber = NumeratorManager.Instance.GetNewId(numerator, true);
                context.RegNumber = procNumber;
            }
            return procNumber;
        }

        public<a name="Prepare" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static void Prepare (this Context context)
        {
            KO_PC_DealReg procConfig = context.ProcConfig ();
            Numerator numerator = procConfig.ProcNumerator;
            if (numerator == null) {
                const Int64 numeratorIncrement = 1;
                const String DocTypeName = "Реестр сделки";
                numerator = NumeratorManager.Instance.CreateNumerator (numeratorIncrement) as Numerator;
                numerator.Name = String.Format ("Нумератор \"{0}\"", DocTypeName);
                numerator.Description = String.Format ("Нумератор для документов типа \"{0}\"", DocTypeName);
                numerator.IsUser = true;
                procConfig.ProcNumerator = numerator;
            }
        }

        public<a name="UpdateProcMembers" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static void UpdateProcMembers (this Context context)
        {
            KO_PC_DealReg procConfig = context.ProcConfig ();
            List<ProcTask_DealRegV01> taskCodes = Enum.GetValues (typeof(ProcTask_DealRegV01)).Cast<ProcTask_DealRegV01> ().OrderBy (e => e).ToList ();
            foreach (ProcTask_DealRegV01 taskCode in taskCodes) {
                if (taskCode < ProcTask_DealRegV01.Z20_A10 || taskCode > ProcTask_DealRegV01.Z30_T10)
                    continue;
                BL10_ProcTask procTask = context.BL10_ProcTasks.Where (t => t.BI_ProcTaskCode == taskCode).FirstOrDefault ();
                if (procTask == null) {
                    procTask = EntityManager<BL10_ProcTask>.Create ();
                    procTask.BI_TaskCompleted = false;
                    procTask.BI_ProcTaskCode = taskCode;
                    context.BL10_ProcTasks.Add (procTask);
                }
                if (procTask.BI_TaskCompleted == true)
                    continue;
                //
                PC_BL10_ProcTask procTaskSettings = procConfig.BL10_ProcTasks.Where (t => t.BI_TaskCode == taskCode).FirstOrDefault ();
                if (procTaskSettings == null)
                    throw<a name="InvalidOperationException" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> new InvalidOperationException ();
                else
                    procTask.BI_TaskName = procTaskSettings.BI_TaskName;
                procTask.BL10_TaskMembers.Clear ();
                foreach (PC_BL1010_TaskMbr taskMembersSettings in procTaskSettings.BL10_TaskMembers.ToList ()) {
                    BL1010_TaskMbr taskMbr = EntityManager<BL1010_TaskMbr>.Create ();
                    taskMbr.BI_ApprMember = taskMembersSettings.BI_ApprMember.User;
                    taskMbr.BI_ProhibitEscalation = taskMembersSettings.BI_ProhibitEscalation;
                    procTask.BL10_TaskMembers.Add (taskMbr);
                }
            }
            //
            BL10_ProcTask procTaskZ20A10 = context.BL10_ProcTasks.Where (t => t.BI_ProcTaskCode == ProcTask_DealRegV01.Z20_A10).FirstOrDefault ();
            if (procTaskZ20A10 != null && !procTaskZ20A10.BI_TaskCompleted) {
                context.ProcUsrZ20_ApprMembers10.Clear ();
                context.ProcUsrZ20_ApprMembers10.AddAll (procTaskZ20A10.BL10_TaskMembers.Select (tm => tm.BI_ApprMember));
            }            
            BL10_ProcTask procTaskZ30T10 = context.BL10_ProcTasks.Where (t => t.BI_ProcTaskCode == ProcTask_DealRegV01.Z30_T10).FirstOrDefault ();
            if(procTaskZ30T10 == null)
            {
                procTaskZ30T10 = EntityManager<BL10_ProcTask>.Create();
                context.BL10_ProcTasks.Add(procTaskZ30T10);
                procTaskZ30T10.BI_TaskCompleted = false;
                procTaskZ30T10.BI_ProcTaskCode = ProcTask_DealRegV01.Z30_T10;
            }
            if(procTaskZ30T10.BL10_TaskMembers.Any(e => e.BI_ApprMember.Id == context.ProcUsrZ10_RegInitiator.Id) == false)
            {
                BL1010_TaskMbr taskMbr = EntityManager<BL1010_TaskMbr>.Create();
                procTaskZ30T10.BL10_TaskMembers.Add(taskMbr);
                taskMbr.BI_ApprMember = context.ProcUsrZ10_RegInitiator;
                taskMbr.BI_ProhibitEscalation = true;
            }
            if (procTaskZ30T10 != null && !procTaskZ30T10.BI_TaskCompleted) {
                context.ProcUsrZ30_AcqMembers10.Clear ();
                context.ProcUsrZ30_AcqMembers10.AddAll (procTaskZ30T10.BL10_TaskMembers.Select (tm => tm.BI_ApprMember));
                //context.ProcUsrZ30_AcqMembers10.Add(context.ProcUsrZ10_RegInitiator);
            }
        }

        public<a name="ShouldContinueApprManagement" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static Boolean ShouldContinueApprManagement (this Context context)
        {
            return context.ApprEscalationTime != null && context.GetActiveDocumentApprovementTasks ().Count > 0;
        }

        public<a name="CanBreakApprovementTasks" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static Boolean CanBreakApprovementTasks (this Context context, ProcTask_DealRegV01 taskCode)
        {
            if (context.ApprEscalationTime == null)
                return false;
            if (context.ApprEscalationTime > DateTime.Now)
                return false;
            PC_BL10_ProcTask taskSettings = context.ProcConfig ().BL10_ProcTasks.Where (t => t.BI_TaskCode == taskCode).FirstOrDefault ();
            if (taskSettings != null && taskSettings.BI_TimeLimit__inTick <= 0)
                return false;
            List<DocumentApprovementTask> activeApprTasks = context.GetActiveDocumentApprovementTasks ();
            BL10_ProcTask taskInfo = context.BL10_ProcTasks.Where (t => t.BI_ProcTaskCode == taskCode).FirstOrDefault ();
            if (taskInfo == null)
                return false;
            HashSet<Int64> unbreakableApprUsrsIds =<a name="HashSet<Int64>" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> new HashSet<Int64> (taskInfo.BL10_TaskMembers.Where (tm => tm.BI_ProhibitEscalation == true).Select (e => e.BI_ApprMember.Id));
            if (activeApprTasks.Any (at => unbreakableApprUsrsIds.Contains (at.ExecutorOriginal.Id)))
                return false;
            //
            return true;
        }

        public<a name="BreakApprovement" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static void BreakApprovement (this Context context, String connectorName, ApprovalStatus apprStatus)
        {
            List<TaskBase> activeTasks = PublicAPI.Processes.WorkflowTaskBase.Filter ().InstanceId (context.WorkflowInstance.Id)
                .Statuses (TaskBaseExtensions.ActiveTaskStatuses.ToList ()).Find ().ToList ();
            if (activeTasks == null || activeTasks.Count < 0)
                return;
            DateTime currentDate = DateTime.Now;
            foreach (TaskBase item in activeTasks) {
                DocumentApprovementTask task = item as DocumentApprovementTask;
                if (task == null)
                    continue;
                BPMNFlowElement element = (BPMNFlowElement)task.WorkflowBookmark.Instance.Process.Diagram.Elements.Single (x => x.Uid == task.WorkflowBookmark.ElementUid);
                Connector connector = element.OutputConnectors.FirstOrDefault (x => x.Name == connectorName);
                if (connector == null)
                    throw<a name="NullReferenceException" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> new NullReferenceException ("connector");
                //
                task.ApprovalStatus = ApprovalStatus.Confirm;
                task.StartWorkDate = DateTime.Now - TimeSpan.FromMinutes (1);
                task.EndWorkDate = DateTime.Now;
                task.Status = TaskBaseStatus.Complete;
                ApprovementTaskGroup apprGroup = task.Group;
                apprGroup.Status = ApprovalStatus.Confirm;
                apprGroup.SolutionDate = DateTime.Now;
                ApprovementListItem i = apprGroup.ApprovementList.Items.Where (x => x.User.Id == (task.IsEmulation ? task.ExecutorIsEmulation.Id : task.Executor.Id)).First ();
                i.Results.First ().Status = apprStatus;
                i.SelectedConnectorUid = connector.Uid;
                i.Comment = "🔴 РЕШЕНИЕ ПРИНЯТО АВТОМАТИЧЕСКИ (истекло отведенное время)";
                i.SolutionDate = currentDate;
                WorkflowTaskExecuteData executeData =<a name="WorkflowTaskExecuteData" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> new WorkflowTaskExecuteData (task, connector.Uid);
                Locator.GetServiceNotNull<IWorkflowRuntimeService> ().Execute (executeData);
            }
            context.ApprTimer = TimeSpan.FromSeconds (5);
        }

        public<a name="SendNotification_YouHaveBrteakableApprTask" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static void SendNotification_YouHaveBrteakableApprTask (this Context context, ProcTask_DealRegV01 taskCode)
        {
            if (context.ApprEscalationTime == null)
                return;
            BL10_ProcTask taskInfo = context.BL10_ProcTasks.Where (t => t.BI_ProcTaskCode == taskCode).FirstOrDefault ();
            HashSet<User> breakableApprUsrs =<a name="HashSet<User>" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> new HashSet<User> (taskInfo.BL10_TaskMembers.Where (tm => tm.BI_ProhibitEscalation == false).Select (e => e.BI_ApprMember));
            if (breakableApprUsrs.Count == 0)
                return;
            String msgSubject = "[#ELMA] [#Реестр сделки] Запущено ограниченное по времени согласование";
            foreach (User usr in breakableApprUsrs) {
                String msgText = String.Format ("Уважаемый(ая) {0}! \n\n" + "Вы являетесь участником ограниченного по времени согласования документа {1}" + "\n\nЕсли вы не успеете согласовать документ до {2:yyyy.MM.dd(ddd) HH:mm} документ будет согласован автоматически (за вас; с положительным результатом).", usr.FullName, context.RegDocument, context.ApprEscalationTime);
                PublicAPI.Portal.Messages.MessageBuilder (msgSubject).MessageText (msgText).Recipients (usr).SendMessage ();
            }
        }

        public<a name="GetProcTask" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static BL10_ProcTask GetProcTask (this Context context, ProcTask_DealRegV01 taskCode)
        {
            BL10_ProcTask procTask = context.BL10_ProcTasks.FirstOrDefault (t => t.BI_ProcTaskCode == taskCode);
            if (procTask == null)
                throw<a name="NullReferenceException" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> new NullReferenceException (String.Format ("Не удалось найти задачу процесса "));
            return procTask;
        }

        public<a name="UpdateDealRegDocApprStatus" style="font-family: 'Courier New', Courier, 'Nimbus Mono L', monospace; border-bottom: none;"></a> static void UpdateDealRegDocApprStatus (this Context context)
        {
            //TODO ***
            Boolean apprResult = false;
            //IEnumerable<ApprovementTaskGroup> apprGroups = PublicAPI.Docflow.Tasks.GetApprovementGroupsByDocument(context.RegDocument);
            //var solutionResults = apprGroups
            //    .SelectMany(x => x.ApprovementList.Items)
            //    .SelectMany(y => y.Results)
            //    .Select(z => new 
            //    { 
            //        User = z.Item.User,
            //        SolutionDate = z.Item.SolutionDate,
            //        Solution = z.Status,
            //        Remark = z.Item.Comment
            //    }).ToDictionary(k => k.User.Id);
            //Boolean regIsApproved = !(context.GetProcTask(ProcTask_DealRegV01.Z20_A30).BL10_TaskMembers.Any(memb => memb.BI_ApprResult == ApprovalStatus.Unconfirm));
            IEnumerable<ApprovementTaskGroup> apprTaskGroups = PublicAPI.Docflow.Tasks.GetApprovementGroupsByDocument (context.RegDocument);
            PublicAPI.Services.Security.RunBySystemUser (() =>  {
                foreach (ApprovementTaskGroup apprTaskGroup in apprTaskGroups) {
                    apprTaskGroup.Status = ApprovalStatus.Confirm;
                    apprTaskGroup.Save ();
                }
            });
            //if (regIsApproved)
            //{
            //    //foreach(var item in apprGroups.SelectMany(g => g.ApprovementList.Items).SelectMany(r => r.Results).ToList())
            //    //{
            //    //    item.Status = ApprovalStatus.Confirm;
            //    //    item.Save();
            //    //}
            //    apprTaskGroups.ForEach(e => e.Status = ApprovalStatus.Confirm);
            //    //foreach(var task in apprGroups.SelectMany(g => g.Tasks).ToList())
            //    //{
            //    //    task.ApprovalStatus = ApprovalStatus.Confirm;
            //    //    foreach (ApprovementResult res in task.ListItem.Results.ToList())
            //    //    {
            //    //        res.Status = ApprovalStatus.Confirm;
            //    //        res.Save();
            //    //    }
            //    //}
            //}
        }
    }
    public class DealRegister_PrintForm
    {
        public String RegNumber { get; set; }
        public String RegDate { get; set; }
        public String Contractor { get; set; }
        public String Culture { get; set; }
        public String Amount__Tonne { get; set; }
        public String Tolerans { get; set; }
        public String Quality { get; set; }
        public String DealCUR { get; set; }
        public String CURtoUAH { get; set; }
        public String USDtoUAH { get; set; }
        public String RegInitiator { get; set; }
        public String Rem { get; set; }
        public String RemAttachments { get; set; }
        public String PaymentForm { get; set; }
        public String PointOfShipping { get; set; }
        public String PointOfDestination { get; set; }
        public String DeliveryMethod { get; set; }
        public String DeliveryDate { get; set; }
        public String BasisOfDelivery { get; set; }
        public String VAT__percents { get; set; }
        public String SellingPricePer1ton__CUR { get; set; }
        public String SellingPricePer1ton__UAH { get; set; }
        public String CostOfEXWatTheElevator__CUR { get; set; }
        public String CostOfEXWatTheElevator__UAH { get; set; }
        public String EstimatedCostOfLogistics__CUR { get; set; }
        public String EstimatedCostOfLogistics__UAH { get; set; }
        public String TaxPer1t__CUR { get; set; }
        public String TaxPer1t__UAH { get; set; }
        public String TransshipmentPer1t__CUR { get; set; }
        public String TransshipmentPer1t__UAH { get; set; }
        public String ElevatorServicesPer1t__CUR { get; set; }
        public String ElevatorServicesPer1t__UAH { get; set;}
        public String AssociatedExpensesPer1t__CUR { get; set; }
        public String AssociatedExpensesPer1t__UAH { get; set; }
        public String MarginPer1t__CUR { get; set; }
        public String MarginPer1t__UAH { get; set; }
        public String ConstantCostsPer1t__CUR { get; set; }
        public String ConstantCostsPer1t__UAH { get; set; }
        public String FullCostsPer1t__CUR { get; set; }
        public String FullCostsPer1t__UAH { get; set; }
        public String EstimatedNetProfitPer1t__CUR { get; set; }
        public String EstimatedNetProfitPer1t__UAH { get; set; }
        public String EstimatedNetProfit__CUR { get; set; }
        public String EstimatedNetProfit__UAH { get; set; }
        public String EstimatedNetProfit__USD { get; set; }

        public DealRegister_PrintForm (Context c)
        {
            RegNumber = c.RegNumber.Str (StrFormat.DocNumb);
            RegDate = c.RegDate.Str(StrFormat.Date);
            RegInitiator = c.ProcUsrZ10_RegInitiator.Str();
            Rem = c.Rem.IfEmpty("<Не указанны>");
            RemAttachments = c.RemAttachments.IfEmpty("<Отсутствуют>");
            Contractor = c.RegContractor == null ? "<Не указанно>" : c.RegContractor.Name;
            Culture = c.Culture == null ? "<Не указанно>" : c.Culture.Name;
            Amount__Tonne = c.Amount__tonne.Str(StrFormat.Double + " т");
            PaymentForm = c.PaymentForm;
            Tolerans = c.Tolerans.IfEmpty("<Не указанно>");
            Quality = c.Quality == null ? "<Не указанно>" : "См. вложение";
            PointOfShipping = c.PointOfShipping;
            PointOfDestination = c.PointOfDestination;
            DeliveryMethod = c.DeliveryMethod == null ? "<Не указанно>" : c.DeliveryMethod.Name;
            DeliveryDate = "с " + c.DeliveryDateFrom.Str(StrFormat.DateFull) + " по " + c.DeliveryDateTill.Str(StrFormat.DateFull);
            BasisOfDelivery = c.BasisOfDelivery.Str().IfEmpty("<Не указанно>");
            VAT__percents = c.VAT__percents.StrMU("%");
            DealCUR = " " + c.DealCUR.Str().IfEmpty("<Не указанно>");
            CURtoUAH = c.CURtoUAH.StrMU("UAH");
            USDtoUAH = c.DealCUR != CurrencyType.USD ? c.USDtoUAH.Str() + " UAH" : CURtoUAH;
            String uah = c.DealCUR == CurrencyType.UAH ? "" : " UAH";
            SellingPricePer1ton__CUR = c.SellingPricePer1ton__CUR.StrMU(DealCUR);
            SellingPricePer1ton__UAH = c.SellingPricePer1ton__UAH.StrMU(uah);
            CostOfEXWatTheElevator__CUR = c.CostOfEXWatTheElevator__CUR.StrMU(DealCUR);
            CostOfEXWatTheElevator__UAH = c.CostOfEXWatTheElevator__UAH.StrMU(uah);
            EstimatedCostOfLogistics__CUR = c.EstimatedCostOfLogistics__CUR.StrMU(DealCUR);
            EstimatedCostOfLogistics__UAH = c.EstimatedCostOfLogistics__UAH.StrMU(uah);
            TaxPer1t__CUR = c.TaxPer1t__CUR.StrMU(DealCUR);
            TaxPer1t__UAH = c.TaxPer1t__UAH.StrMU(uah);
            TransshipmentPer1t__CUR = c.TransshipmentPer1t__CUR.StrMU(DealCUR);
            TransshipmentPer1t__UAH = c.TransshipmentPer1t__UAH.StrMU(uah);
            ElevatorServicesPer1t__CUR = c.ElevatorServicesPer1t__CUR.StrMU(DealCUR);
            ElevatorServicesPer1t__UAH = c.ElevatorServicesPer1t__UAH.StrMU(uah);
            AssociatedExpensesPer1t__CUR = c.AssociatedExpensesPer1t__CUR.StrMU(DealCUR);
            AssociatedExpensesPer1t__UAH = c.AssociatedExpensesPer1t__UAH.StrMU(uah);
            MarginPer1t__CUR = c.MarginPer1t__CUR.StrMU(DealCUR);
            MarginPer1t__UAH = c.MarginPer1t__UAH.StrMU(uah);
            ConstantCostsPer1t__CUR = c.ConstantCostsPer1t__CUR.StrMU(DealCUR);
            ConstantCostsPer1t__UAH = c.ConstantCostsPer1t__UAH.StrMU(uah);
            FullCostsPer1t__CUR = c.FullCostsPer1t__CUR.StrMU(DealCUR);
            FullCostsPer1t__UAH = c.FullCostsPer1t__UAH.StrMU(uah);
            EstimatedNetProfitPer1t__CUR = c.EstimatedNetProfitPer1t__CUR.StrMU(DealCUR);
            EstimatedNetProfitPer1t__UAH = c.EstimatedNetProfitPer1t__UAH.StrMU(uah);
            EstimatedNetProfit__CUR = c.EstimatedNetProfit__CUR.StrMU(DealCUR);
            EstimatedNetProfit__UAH = c.EstimatedNetProfit__UAH.StrMU(uah);
            EstimatedNetProfit__USD = c.EstimatedNetProfit__USD.StrMU(c.DealCUR != CurrencyType.USD ? "USD" : "");
        }
    }
    
    public static class Ext_BinaryFile
    {
        /// <summary> Генерировать бинарный файл по шаблону </summary>
        /// <param name="dataSource"> Источник данных </param>
        /// <param name="creationDate"> Дата создания </param>
        /// <param name="pathToTemplateFile"> Полный путь к месту хранения шаблона файла (с расширением) </param>
        /// <param name="fileNameWithoutExtension"> Название которое будет присвоено созданному файлу (без расширения) </param>
        /// <returns></returns>
        public static BinaryFile GenerateFromTemplate (Object dataSource, String pathToTemplateFile, String fileNameWithoutExtension, DateTime? creationDate = null)
        {
            String fileExtension = Path.GetExtension (pathToTemplateFile);
            BinaryFile binFile = InterfaceActivator.Create<BinaryFile> ();
            binFile.Name = String.Format ("{0}.{1}", fileNameWithoutExtension, fileExtension);
            binFile.CreateDate = creationDate ?? DateTime.Now;
            binFile.InitializeContentFilePath ();
            System.IO.File.Copy (pathToTemplateFile, binFile.ContentFilePath);
            //
            var generator = Locator.GetServiceNotNull<DocumentGeneratorManager> ().Create (binFile.ContentFilePath);
            generator.Generate (dataSource);
            Locator.GetServiceNotNull<IFileManager> ().SaveFile (binFile);
            return binFile;
        }

        /// <summary> Создать пустой бинарный файл </summary>
        /// <param name="fileNameWithoutExtension"> Название файла (без расширения) </param>
        public static BinaryFile CreateEmptyBinaryFile (String fileNameWithoutExtension)
        {
            string fileName = String.Format ("{0}.tmp", string.Join ("_", fileNameWithoutExtension.Split (Path.GetInvalidFileNameChars ())));
            byte[] fileBody = new byte[] {

            };
            var filePath = BinaryFile.CreateContentFilePath (fileName);
            System.IO.File.WriteAllBytes (filePath, fileBody);
            var mimeMappingService = Locator.GetServiceNotNull<IMimeMappingService> ();
            BinaryFile binFile = new BinaryFile {
                ContentType = mimeMappingService.GetTypeByExtension (Path.GetExtension (filePath)),
                Name = Path.GetFileName (fileName),
                ContentFilePath = filePath,
                CreateDate = DateTime.Now,
            };
            DataAccessManager.FileManager.SaveFile (binFile);
            return binFile;
        }
    }
    public static class Ext_Folder
    {
        /// <summary> Получить или создать родительскую папку (без наследования полномочий) </summary>
        public static Folder CD (String formatedDirName, params object[] args)
        {
            if (formatedDirName == null)
                throw new ArgumentException ("formatedDirName");
            String dirName = String.Format (formatedDirName, args);
            return EntityManager<Folder>.Instance.Find (x => x.Folder == null && x.Name == dirName).OrderBy (x => x.CreationDate).FirstOrDefault () ?? PublicAPI.Docflow.Folder.CreateFolder (null, dirName, false, false);
        }

        /// <summary> Получить или создать родительскую папку (с наследованием полномочий) </summary>
        public static Folder Cd (String formatedDirName, params object[] args)
        {
            if (formatedDirName == null)
                throw new ArgumentException ("formatedDirName");
            String dirName = String.Format (formatedDirName, args);
            return EntityManager<Folder>.Instance.Find (x => x.Folder == null && x.Name == dirName).OrderBy (x => x.CreationDate).FirstOrDefault () ?? PublicAPI.Docflow.Folder.CreateFolder (null, dirName, true, false);
        }

        /// <summary> Получить или создать дочернюю папку (без наследования полномочий) </summary>
        public static Folder CD (this Folder parentDir, String formatedDirName, params object[] args)
        {
            if (formatedDirName == null)
                throw new ArgumentException ("formatedDirName");
            if (parentDir == null)
                throw new ArgumentNullException ("parentDir");
            String dirName = String.Format (formatedDirName, args);
            return EntityManager<Folder>.Instance.Find (x => x.Folder.Id == parentDir.Id && x.Name == dirName).OrderBy (x => x.CreationDate).FirstOrDefault () ?? PublicAPI.Docflow.Folder.CreateFolder (parentDir, dirName, false, false);
        }

        /// <summary> Получить или создать дочернюю папку (с наследованием полномочий) </summary>
        public static Folder Cd (this Folder parentDir, String formatedDirName, params object[] args)
        {
            if (formatedDirName == null)
                throw new ArgumentException ("formatedDirName");
            if (parentDir == null)
                throw new ArgumentNullException ("parentDir");
            String dirName = String.Format (formatedDirName, args);
            return EntityManager<Folder>.Instance.Find (x => x.Folder.Id == parentDir.Id && x.Name == dirName).OrderBy (x => x.CreationDate).FirstOrDefault () ?? PublicAPI.Docflow.Folder.CreateFolder (parentDir, dirName, true, false);
        }

        /// <summary> Получить набор родетельских папок + эту </summary>
        /// <param name="dir"> Папка </param>
        public static List<Folder> GetParentFoldersAndThis (this Folder dir)
        {
            List<Folder> folders = new List<Folder> ();
            Folder folder = dir;
            while (folder != null) {
                folders.Add (folder);
                folder = folder.Folder;
            }
            return folders;
        }
    }
    public static class Ext_ElmaTimer
    {
        public static void BreakActiveTimer (this Context context, String timerName)
        {
            WorkflowInstance workflowInstance = context.WorkflowInstance;
            WorkflowInstanceTimerInfo timer = Locator.GetServiceNotNull<WorkflowInstanceManager> ().GetActiveTimerInfos (new[] {
                workflowInstance
            }).Where (x => x.ElementName == timerName).FirstOrDefault ();
            if (timer == null)
                return;
            IResumeProcessSchedulerJob shedulerJob = EntityManager<IResumeProcessSchedulerJob>.Instance.Load (timer.SchedulerJobId);
            if (shedulerJob.Task == null || shedulerJob.Task.Status != SchedulerTaskStatus.Enabled)
                return;
            shedulerJob.Task.OnceExecuteTime = DateTime.Now + TimeSpan.FromSeconds (1);
            shedulerJob.Task.Save ();
        }
    }
    public static class Ext_ElmaApprTask
    {
        public static List<DocumentApprovementTask> GetActiveDocumentApprovementTasks (this Context context)
        {
            WorkflowInstance workflowInstance = context.WorkflowInstance;
            List<DocumentApprovementTask> activeDocApprTasks = new List<DocumentApprovementTask> ();
            List<TaskBase> activeTasks = PublicAPI.Processes.WorkflowTaskBase.Filter ().InstanceId (workflowInstance.Id).Statuses (TaskBaseExtensions.ActiveTaskStatuses.ToList ()).Find ().ToList ();
            if (activeTasks == null || activeTasks.Count < 0)
                return activeDocApprTasks;
            foreach (TaskBase t in activeTasks)
                if (t is DocumentApprovementTask)
                    activeDocApprTasks.Add ((DocumentApprovementTask)t);
            return activeDocApprTasks;
        }
    }
    public static class Ext_Document
    {
        /// <summary> Получить все результаты согласования документа </summary>
        public static Aux_DocApprInfo GetApprInfo (this Document doc)
        {
            if (doc == null)
                return null;
            Aux_DocApprInfo apprResults = new Aux_DocApprInfo (doc);
            IEnumerable<ApprovementTaskGroup> apprGroups = PublicAPI.Docflow.Tasks.GetApprovementGroupsByDocument (doc);
            foreach (var apprGroup in apprGroups) {
                foreach (ApprovementListItem apprListItem in apprGroup.ApprovementList.Items) {
                    foreach (var res in apprListItem.Results) {
                        Aux_DocApprInfoItem apprItem = new Aux_DocApprInfoItem {
                            ApprList_No = apprGroup.ApprovementList.Id,
                            ApprList_CreationAuthor = apprGroup.CreationAuthor,
                            ApprList_CreationDate = apprGroup.CreationDate,
                            ApprList_SolutionDate = apprGroup.SolutionDate,
                            ApprList_ApprStatus = apprGroup.Status,
                            Executor = apprListItem.User,
                            Executor_SolutionDate = apprListItem.SolutionDate,
                            Executor_Solution = res.Status,
                            Executor_Comment = res.Item.Comment
                        };
                        apprResults.DocApprInfoItems.Add (apprItem);
                    }
                }
            }
            return apprResults;
        }

        /// <summary> Получить только последние результаты согласования документа </summary>
        public static Aux_DocApprInfo GetApprResult (this Document doc)
        {
            if (doc == null)
                throw new ArgumentNullException ("doc");
            var docApprInfoItems = doc.GetApprInfo ().DocApprInfoItems.GroupBy (x => x.Executor).Select (y => y.MaxBy (z => z.ApprList_CreationDate)).OrderByDescending (x => x.Executor_SolutionDate);
            return new Aux_DocApprInfo (doc, docApprInfoItems);
        }

        public static bool IsApproved (this Document doc, Func<List<Aux_DocApprInfoItem>, bool> comparer)
        {
            if (doc == null)
                return false;
            Aux_DocApprInfo docApprResult = doc.GetApprResult ();
            List<Aux_DocApprInfoItem> docApprInfoItems = docApprResult.DocApprInfoItems;
            return docApprInfoItems != null && docApprInfoItems.Count > 0 && comparer (docApprInfoItems);
        }

        public static bool IsApproved (this Document doc)
        {
            return doc.IsApproved (x => x.All (y => y.Executor_Solution == ApprovalStatus.Confirm));
        }

        public static Document GenerateCustomApprList (this Document doc, Context context, Folder resultFolder, String resultDocName, String resultFileName_WithoutExtension)
        {
            if (doc == null)
                throw new ArgumentNullException ("doc");
            const String templateFilePath = @"C:\ELMA3-Config.KustoAgro\_KA\DocumentTemplates\General_ApprList\General_ApprList [v 01.00].docx";
            //
            if (!System.IO.File.Exists (templateFilePath))
                throw new FileNotFoundException ("Файл шаблона листа согласования не найден", templateFilePath);
            Aux_DocApprInfo apprInfo = doc.GetApprInfo ();
            apprInfo.DocApprInfoItems = apprInfo.DocApprInfoItems.OrderBy (x => x.Executor.FullName).ThenBy (x => x.Executor_SolutionDate).ToList ();
            //
            DocGen_DocApprInfo docGen_dataSource = new DocGen_DocApprInfo (apprInfo, context);
            BinaryFile versionFile = Ext_BinaryFile.GenerateFromTemplate (docGen_dataSource, templateFilePath, resultFileName_WithoutExtension);
            //
            return PublicAPI.Docflow.Types.File.Create (versionFile, resultFolder, resultDocName);
        }

        public static Document GenerateStandartApprList (this Document doc, Context context, Folder apprListFolder, String apprListDocName, String apprListFileName_WithoutExtension)
        {
            if (doc == null)
                throw new ArgumentNullException ("doc");
            String pathToApprListTemplate = @"C:\ELMA3-Standart\__Templates\GeneralTemplates\Template_ApprList.docx";
            if (!System.IO.File.Exists (pathToApprListTemplate))
                throw new FileNotFoundException ("Файл шаблона листа согласования не найден", pathToApprListTemplate);
            DocGen_DocApprInfo docGen_dataSource = new DocGen_DocApprInfo (doc.GetApprResult (), context);
            BinaryFile versionFile = Ext_BinaryFile.GenerateFromTemplate (docGen_dataSource, pathToApprListTemplate, apprListFileName_WithoutExtension);
            return PublicAPI.Docflow.Types.File.Create (versionFile, apprListFolder, apprListDocName);
        }
    }
    public class Aux_DocApprInfo
    {
        /// <summary> Документ </summary>
        public Document Doc {
            get;
            set;
        }

        /// <summary> Дата создания последнего листа согласования по документу </summary>
        public DateTime? Apprlist_LastCreationDate {
            get;
            set;
        }

        /// <summary> Автор создания последнего листа согласования по документу </summary>
        public User ApprList_LastCreationAuthor {
            get;
            set;
        }

        /// <summary> Результаты согласования </summary>
        public List<Aux_DocApprInfoItem> DocApprInfoItems {
            get;
            set;
        }

        public Aux_DocApprInfo (Document doc)
        {
            Doc = doc;
            DocApprInfoItems = new List<Aux_DocApprInfoItem> ();
        }

        public Aux_DocApprInfo (Document doc, IEnumerable<Aux_DocApprInfoItem> docApprInfoItems)
        {
            Doc = doc;
            DocApprInfoItems = new List<Aux_DocApprInfoItem> ();
            if (docApprInfoItems != null && docApprInfoItems.Count () > 0) {
                DocApprInfoItems.AddRange (docApprInfoItems);
                //
                Aux_DocApprInfoItem lastApprList = docApprInfoItems.MaxBy (x => x.Executor_SolutionDate);
                ApprList_LastCreationAuthor = lastApprList.ApprList_CreationAuthor;
                Apprlist_LastCreationDate = lastApprList.ApprList_CreationDate;
            }
        }
    }
    public class Aux_DocApprInfoItem
    {
        /// <summary> Лист согласования. № </summary>
        public Int64 ApprList_No {
            get;
            set;
        }

        /// <summary> Литст согласования. Дата создания </summary>
        public DateTime? ApprList_CreationDate {
            get;
            set;
        }

        /// <summary> Инициатор согласования </summary>
        public User ApprList_CreationAuthor {
            get;
            set;
        }

        /// <summary> Литст согласования. Дата принятия решения </summary>
        public DateTime? ApprList_SolutionDate {
            get;
            set;
        }

        /// <summary> Литст согласования. Общий результат согласования </summary>
        public ApprovalStatus ApprList_ApprStatus {
            get;
            set;
        }

        /// <summary> Исполнитель </summary>
        public User Executor {
            get;
            set;
        }

        /// <summary> Исполнитель. Решение </summary>
        public ApprovalStatus Executor_Solution {
            get;
            set;
        }

        /// <summary> Исполнитель. Дата принятия решениия </summary>
        public DateTime? Executor_SolutionDate {
            get;
            set;
        }

        /// <summary> Исполнитель. Комментарий </summary>
        public String Executor_Comment {
            get;
            set;
        }

        public override String ToString ()
        {
            StringBuilder sb = new StringBuilder ();
            sb.Append ("ApprList_No: ").AppendLine (ApprList_No.ToString ()).Append ("ApprList_CreationDate: ").AppendLine (String.Format ("{0:dd.MM.yyyy HH:mm:ss}", ApprList_CreationDate)).Append ("ApprList_CreationAuthor: ").AppendLine (String.Format ("{0}", ApprList_CreationAuthor)).Append ("ApprList_SolutionDate: ").AppendLine (String.Format ("{0:dd.MM.yyyy HH:mm:ss}", ApprList_SolutionDate)).Append ("ApprList_ApprStatus: ").AppendLine (ApprList_ApprStatus.ToString ()).Append ("Executor: ").AppendLine (Executor.FullName).Append ("Executor_Solution: ").AppendLine (Executor_Solution.ToString ()).Append ("Executor_SolutionDate: ").AppendLine (String.Format ("{0:dd.MM.yyyy HH:mm:ss}", Executor_SolutionDate)).Append ("Executor_Comment: ").AppendLine (Executor_Comment);
            return sb.ToString ();
        }
    }
    public class DocGen_DocApprInfo
    {
        /// <summary> Документ </summary>
        public String Doc {
            get;
            set;
        }

        /// <summary> Дата создания последнего листа согласования по документу </summary>
        public String Apprlist_LastCreationDate {
            get;
            set;
        }

        /// <summary> Автор создания последнего листа соглксования по документу </summary>
        public String ApprList_LastCreationAuthor {
            get;
            set;
        }

        /// <summary> Результаты согласования </summary>
        public List<DocGen_DocApprInfoItem> DocApprInfoItems {
            get;
            set;
        }

        public DocGen_DocApprInfo (Aux_DocApprInfo docApprInfo, Context context)
        {
            Doc = String.Format (docApprInfo.Doc.Name);
            var i = docApprInfo.DocApprInfoItems.OrderBy (x => x.Executor_SolutionDate).First ();
            if (i != null) {
                Apprlist_LastCreationDate = String.Format ("{0:dd.MM.yyyy HH:mm}", i.ApprList_CreationDate);
                //ApprList_LastCreationAuthor = String.Format ("{0} ({1})", i.ApprList_CreationAuthor.FullName, i.ApprList_CreationAuthor.GetPositions ());
                ApprList_LastCreationAuthor = String.Format ("{0} ({1})", context.ProcUsrZ10_RegInitiator.FullName, context.ProcUsrZ10_RegInitiator.GetPositions ());
            }
            DocApprInfoItems = new List<DocGen_DocApprInfoItem> (docApprInfo.DocApprInfoItems.Select (x => new DocGen_DocApprInfoItem (x)));
        }
    }
    public class DocGen_DocApprInfoItem
    {
        /// <summary> Лист согласования. № </summary>
        public String ApprList_No {
            get;
            set;
        }

        /// <summary> Литст согласования. Дата создания </summary>
        public String ApprList_CreationDate {
            get;
            set;
        }

        /// <summary> Инициатор согласования </summary>
        public String ApprList_CreationAuthor {
            get;
            set;
        }

        /// <summary> Литст согласования. Дата принятия решения </summary>
        public String ApprList_SolutionDate {
            get;
            set;
        }

        /// <summary> Литст согласования. Общий результат согласования </summary>
        public String ApprList_ApprStatus {
            get;
            set;
        }

        /// <summary> Исполнитель. ФИО </summary>
        public String Executor_FullName {
            get;
            set;
        }

        /// <summary> Исполнитель. Должность </summary>
        public String Executor_Post {
            get;
            set;
        }

        /// <summary> Исполнитель. Решение </summary>
        public String Executor_Solution {
            get;
            set;
        }

        /// <summary> Исполнитель. Дата принятия решениия </summary>
        public string Executor_SolutionDate {
            get;
            set;
        }

        /// <summary> Исполнитель. Комментарий </summary>
        public String Executor_Comment {
            get;
            set;
        }

        public DocGen_DocApprInfoItem (Aux_DocApprInfoItem i)
        {
            ApprList_No = String.Format ("{0:000000}", i.ApprList_No);
            ApprList_CreationDate = String.Format ("{0:dd.MM.yyyy HH:mm}", i.ApprList_CreationDate);
            ApprList_CreationAuthor = String.Format ("{0} ({1})", i.ApprList_CreationAuthor.FullName, i.ApprList_CreationAuthor.GetPositions ());
            ApprList_SolutionDate = String.Format ("{0:dd.MM.yyyy HH:mm}", i.ApprList_SolutionDate);
            ApprList_ApprStatus = ApprStatusToString (i.ApprList_ApprStatus);
            Executor_FullName = String.Format ("{0}", i.Executor.FullName);
            Executor_Post = String.Format ("{0}", i.Executor.GetPositions ());
            Executor_Solution = String.Format ("{0}", ApprStatusToString (i.Executor_Solution));
            Executor_SolutionDate = String.Format ("{0:dd.MM.yyyy HH:mm}", i.Executor_SolutionDate);
            Executor_Comment = String.Format ("{0}", i.Executor_Comment);
        }

        private string ApprStatusToString (ApprovalStatus apprStatus)
        {
            Dictionary<ApprovalStatus, String> map = new Dictionary<ApprovalStatus, string> {
                {
                    ApprovalStatus.None,
                    "На согласовании"
                },
                {
                    ApprovalStatus.Confirm,
                    "Согласовано"
                },
                {
                    ApprovalStatus.Unconfirm,
                    "Не согласовано"
                },
                {
                    ApprovalStatus.Pending,
                    "В ожидании"
                },
                {
                    ApprovalStatus.Terminated,
                    "Отменено"
                },
                {
                    ApprovalStatus.WasClosed,
                    "Закрыто автором"
                }
            };
            if (map.ContainsKey (apprStatus))
                return map [apprStatus];
            return "< ? >";
        }

        public override String ToString ()
        {
            StringBuilder s = new StringBuilder ();
            s.Append ("ApprList_No: ").AppendLine (ApprList_No);
            s.Append ("ApprList_CreationDate: ").AppendLine (ApprList_CreationDate);
            s.Append ("ApprList_CreationAuthor: ").AppendLine (ApprList_CreationAuthor);
            s.Append ("ApprList_SolutionDate: ").AppendLine (ApprList_SolutionDate);
            s.Append ("ApprList_ApprStatus: ").AppendLine (ApprList_ApprStatus);
            s.Append ("Executor_FullName: ").AppendLine (Executor_FullName);
            s.Append ("Executor_Post: ").AppendLine (Executor_Post);
            s.Append ("Executor_Solution: ").AppendLine (Executor_Solution);
            s.Append ("Executor_SolutionDate: ").AppendLine (Executor_SolutionDate);
            s.Append ("Executor_Comment: ").AppendLine (Executor_Comment);
            return s.ToString ();
        }
    }
    public static class Ext_Linq
    {
        /// <summary> Получить элементы множества A которые не входят в множество B </summary>
        /// <typeparam name="TA"> Тип данных множества A </typeparam>
        /// <typeparam name="TB"> Тип данных множества B </typeparam>
        /// <param name="setA"> Множество A </param>
        /// <param name="setB"> Множество B </param>
        /// <param name="comparer"> Функция сравнения елементов </param>
        public static IEnumerable<TA> Except<TA, TB> (this IEnumerable<TA> setA, IEnumerable<TB> setB, Func<TA, TB, bool> comparer)
        {
            return setA.Where (x => setB.Count (y => comparer (x, y)) == 0);
        }

        /// <summary> Получить элементы множества A которые входят в множество B </summary>
        /// <typeparam name="TA"> Тип данных множества A </typeparam>
        /// <typeparam name="TB"> Тип данных множества B </typeparam>
        /// <param name="setA"> Множество A </param>
        /// <param name="setB"> Множество B </param>
        /// <param name="comparer"> Функция сравнения елементов </param>
        public static IEnumerable<TA> Intersect<TA, TB> (this IEnumerable<TA> setA, IEnumerable<TB> setB, Func<TA, TB, bool> comparer)
        {
            return setA.Where (x => setB.Count (y => comparer (x, y)) == 1);
        }

        /// <summary> Получить объединение двух множеств по указанному свойству </summary>
        /// <param name="setA"> Множество A </param>
        /// <param name="setB"> Множество B </param>
        /// <param name="keySelector"> Свойство по которому будет вестись выборка </param>
        /// <returns></returns>
        public static IEnumerable<TSource> UnionBy<TSource, TKey> (this IEnumerable<TSource> setA, IEnumerable<TSource> setB, Func<TSource, TKey> keySelector)
        {
            HashSet<TKey> seenKeys = new HashSet<TKey> ();
            foreach (TSource element in setA)
                if (seenKeys.Add (keySelector (element)))
                    yield return element;
            foreach (TSource element in setB)
                if (seenKeys.Add (keySelector (element)))
                    yield return element;
        }

        /// <summary> Получить элементы множества у которых значение указанного свойства уникально </summary>
        /// <param name="source"> Исходное множество </param>
        /// <param name="keySelector"> Свойство по которому будет вестись выборка </param>
        public static IEnumerable<TSource> DistinctBy<TSource, TKey> (this IEnumerable<TSource> source, Func<TSource, TKey> keySelector)
        {
            HashSet<TKey> seenKeys = new HashSet<TKey> ();
            foreach (TSource element in source)
                if (element != null && seenKeys.Add (keySelector (element)))
                    yield return element;
        }

        public static TSource MinBy<TSource, TKey> (this IEnumerable<TSource> source, Func<TSource, TKey> selector)
        {
            return source.MinBy (selector, null);
        }

        public static TSource MinBy<TSource, TKey> (this IEnumerable<TSource> source, Func<TSource, TKey> selector, IComparer<TKey> comparer)
        {
            if (source == null)
                throw new ArgumentNullException ("source");
            if (selector == null)
                throw new ArgumentNullException ("selector");
            comparer = comparer ?? Comparer<TKey>.Default;
            using (var sourceIterator = source.GetEnumerator ()) {
                if (!sourceIterator.MoveNext ()) {
                    throw new InvalidOperationException ("Sequence contains no elements");
                }
                var min = sourceIterator.Current;
                var minKey = selector (min);
                while (sourceIterator.MoveNext ()) {
                    var candidate = sourceIterator.Current;
                    var candidateProjected = selector (candidate);
                    if (comparer.Compare (candidateProjected, minKey) < 0) {
                        min = candidate;
                        minKey = candidateProjected;
                    }
                }
                return min;
            }
        }

        public static TSource MaxBy<TSource, TKey> (this IEnumerable<TSource> source, Func<TSource, TKey> selector)
        {
            return source.MaxBy (selector, null);
        }

        public static TSource MaxBy<TSource, TKey> (this IEnumerable<TSource> source, Func<TSource, TKey> selector, IComparer<TKey> comparer)
        {
            if (source == null)
                throw new ArgumentNullException ("source");
            if (selector == null)
                throw new ArgumentNullException ("selector");
            comparer = comparer ?? Comparer<TKey>.Default;
            using (var sourceIterator = source.GetEnumerator ()) {
                if (!sourceIterator.MoveNext ()) {
                    throw new InvalidOperationException ("Sequence contains no elements");
                }
                var max = sourceIterator.Current;
                var maxKey = selector (max);
                while (sourceIterator.MoveNext ()) {
                    var candidate = sourceIterator.Current;
                    var candidateProjected = selector (candidate);
                    if (comparer.Compare (candidateProjected, maxKey) > 0) {
                        max = candidate;
                        maxKey = candidateProjected;
                    }
                }
                return max;
            }
        }
    }
}</pre></div></table></tr></table></div></div></html>